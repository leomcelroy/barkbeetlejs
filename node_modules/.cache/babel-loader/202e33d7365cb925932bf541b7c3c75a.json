{"ast":null,"code":"import _classCallCheck from \"/Users/leomcelroy/Desktop/barkBeetleEverything/barkbeetle_js_real/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/leomcelroy/Desktop/barkBeetleEverything/barkbeetle_js_real/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/leomcelroy/Desktop/barkBeetleEverything/barkbeetle_js_real/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/leomcelroy/Desktop/barkBeetleEverything/barkbeetle_js_real/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/leomcelroy/Desktop/barkBeetleEverything/barkbeetle_js_real/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/leomcelroy/Desktop/barkBeetleEverything/barkbeetle_js_real/src/Workplane.js\";\nimport React, { Component } from 'react';\nimport * as utils from './utils.js';\n\nvar Workplane =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Workplane, _Component);\n\n  function Workplane() {\n    var _this;\n\n    _classCallCheck(this, Workplane);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Workplane).call(this));\n    _this.state = {\n      width: 500,\n      height: 500,\n      v0: 0,\n      v1: 0,\n      v2: 500,\n      v3: 500,\n      mousedown: false //zoomDelta: 0,\n\n    };\n    return _this;\n  }\n\n  _createClass(Workplane, [{\n    key: \"wheel\",\n    value: function wheel(e) {\n      e.preventDefault();\n      var loc = utils.getSVGpoint(e, this.state.v0, this.state.v1, this.state.v2, this.state.v3, this.state.width, this.state.height);\n\n      if (e.ctrlKey) {\n        var zoomRate = 10;\n\n        if (e.deltaY < 0) {\n          //console.log('zoom in');\n          var v0 = this.state.v0 - loc.x * (e.deltaY * zoomRate);\n          var v1 = this.state.v1 - loc.y * (e.deltaY * zoomRate);\n          var v2 = e.deltaY * zoomRate + this.state.v2 > 1 ? e.deltaY * zoomRate + this.state.v2 : this.state.v2;\n          var v3 = e.deltaY * zoomRate + this.state.v3 > 1 ? e.deltaY * zoomRate + this.state.v3 : this.state.v3;\n          this.setState({\n            v0: v0,\n            v1: v1,\n            v2: v2,\n            v3: v3\n          });\n        }\n\n        if (e.deltaY > 0) {\n          //console.log('zoom out');\n          var _v = this.state.v0 - loc.x * (e.deltaY * zoomRate);\n\n          var _v2 = this.state.v1 - loc.y * (e.deltaY * zoomRate);\n\n          var _v3 = e.deltaY * zoomRate + this.state.v2;\n\n          var _v4 = e.deltaY * zoomRate + this.state.v3;\n\n          this.setState({\n            v0: _v,\n            v1: _v2,\n            v2: _v3,\n            v3: _v4\n          });\n        }\n\n        return;\n      }\n\n      if (e.deltaY < 0) {\n        //console.log('scrolling up');\n        var _v5 = this.state.v1 + e.deltaY;\n\n        this.setState({\n          v1: _v5\n        });\n      }\n\n      if (e.deltaY > 0) {\n        //console.log('scrolling down');\n        var _v6 = this.state.v1 + e.deltaY;\n\n        this.setState({\n          v1: _v6\n        });\n      }\n\n      if (e.deltaX < 0) {\n        //console.log('scrolling left');\n        var _v7 = this.state.v0 + e.deltaX;\n\n        this.setState({\n          v0: _v7\n        });\n      }\n\n      if (e.deltaX > 0) {\n        //console.log('scrolling right');\n        var _v8 = this.state.v0 + e.deltaX;\n\n        this.setState({\n          v0: _v8\n        });\n      }\n    } //   // Find your root SVG element\n    // var svg = document.querySelector('svg');\n    //\n    // // Create an SVGPoint for future math\n    // var pt = svg.createSVGPoint();\n    //\n    // // Get point in global SVG space\n    // function cursorPoint(evt){\n    //   pt.x = evt.clientX; pt.y = evt.clientY;\n    //   return pt.matrixTransform(svg.getScreenCTM().inverse());\n    // }\n    //\n    // svg.addEventListener('mousemove',function(evt){\n    //   var loc = cursorPoint(evt);\n    //   // Use loc.x and loc.y here\n    // },false);\n\n  }, {\n    key: \"mouseDown\",\n    value: function mouseDown(e) {\n      this.setState({\n        mousedown: true\n      });\n    }\n  }, {\n    key: \"mouseMove\",\n    value: function mouseMove(e) {\n      var loc = utils.getSVGpoint(e, this.state.v0, this.state.v1, this.state.v2, this.state.v3, this.state.width, this.state.height);\n      console.log(loc.x, loc.y);\n    }\n  }, {\n    key: \"mouseUp\",\n    value: function mouseUp(e) {\n      this.setState({\n        mousedown: false\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      return React.createElement(\"svg\", {\n        width: this.state.width,\n        height: this.state.height,\n        viewBox: \"\".concat(this.state.v0, \" \").concat(this.state.v1, \" \").concat(this.state.v2, \" \").concat(this.state.v3),\n        xmlns: \"http://www.w3.org/2000/svg\",\n        onWheel: function onWheel(e) {\n          return _this2.wheel(e);\n        },\n        onMouseDown: function onMouseDown(e) {\n          return _this2.mouseDown(e);\n        },\n        onMouseMove: function onMouseMove(e) {\n          return _this2.mouseMove(e);\n        },\n        onMouseUp: function onMouseUp(e) {\n          return _this2.mouseUp(e);\n        },\n        style: {\n          border: \"1px solid #cccccc\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 119\n        },\n        __self: this\n      }, React.createElement(\"circle\", {\n        cx: \"0\",\n        cy: \"0\",\n        r: \"10\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 129\n        },\n        __self: this\n      }), React.createElement(\"g\", {\n        dangerouslySetInnerHTML: {\n          __html: this.props.group\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 130\n        },\n        __self: this\n      }));\n    }\n  }]);\n\n  return Workplane;\n}(Component);\n\nexport { Workplane };","map":{"version":3,"sources":["/Users/leomcelroy/Desktop/barkBeetleEverything/barkbeetle_js_real/src/Workplane.js"],"names":["React","Component","utils","Workplane","state","width","height","v0","v1","v2","v3","mousedown","e","preventDefault","loc","getSVGpoint","ctrlKey","zoomRate","deltaY","x","y","setState","deltaX","console","log","wheel","mouseDown","mouseMove","mouseUp","border","__html","props","group"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport * as utils from './utils.js';\n\n\nclass Workplane extends Component {\n  constructor() {\n    super();\n\n    this.state = {\n      width: 500,\n      height: 500,\n      v0: 0,\n      v1: 0,\n      v2: 500,\n      v3: 500,\n      mousedown: false,\n      //zoomDelta: 0,\n    }\n  }\n\n  wheel(e) {\n    e.preventDefault();\n    let loc = utils.getSVGpoint(e, this.state.v0, this.state.v1, this.state.v2, this.state.v3 ,this.state.width, this.state.height);\n\n    if (e.ctrlKey) {\n\n      let zoomRate = 10;\n\n      if (e.deltaY < 0) {\n        //console.log('zoom in');\n\n        let v0 = this.state.v0 - loc.x * (e.deltaY * zoomRate);\n        let v1 = this.state.v1 - loc.y * (e.deltaY * zoomRate);\n\n        let v2 = (e.deltaY * zoomRate + this.state.v2 > 1) ? e.deltaY * zoomRate + this.state.v2 : this.state.v2;\n        let v3 = (e.deltaY * zoomRate + this.state.v3 > 1) ? e.deltaY * zoomRate + this.state.v3 : this.state.v3;\n\n        this.setState({v0,v1,v2, v3})\n      }\n\n      if (e.deltaY > 0) {\n        //console.log('zoom out');\n        let v0 = this.state.v0 - loc.x * (e.deltaY * zoomRate);\n        let v1 = this.state.v1 - loc.y * (e.deltaY * zoomRate);\n\n        let v2 = e.deltaY * zoomRate + this.state.v2;\n        let v3 = e.deltaY * zoomRate + this.state.v3;\n\n        this.setState({v0,v1, v2, v3})\n      }\n\n      return\n    }\n\n    if (e.deltaY < 0) {\n      //console.log('scrolling up');\n\n      let v1 = this.state.v1 + e.deltaY;\n      this.setState({v1});\n    }\n    if (e.deltaY > 0) {\n      //console.log('scrolling down');\n\n      let v1 = this.state.v1 + e.deltaY;\n      this.setState({v1});\n    }\n    if (e.deltaX < 0) {\n      //console.log('scrolling left');\n\n      let v0 = this.state.v0 + e.deltaX;\n      this.setState({v0});\n    }\n    if (e.deltaX > 0) {\n      //console.log('scrolling right');\n\n      let v0 = this.state.v0 + e.deltaX;\n      this.setState({v0});\n    }\n  }\n\n//   // Find your root SVG element\n// var svg = document.querySelector('svg');\n//\n// // Create an SVGPoint for future math\n// var pt = svg.createSVGPoint();\n//\n// // Get point in global SVG space\n// function cursorPoint(evt){\n//   pt.x = evt.clientX; pt.y = evt.clientY;\n//   return pt.matrixTransform(svg.getScreenCTM().inverse());\n// }\n//\n// svg.addEventListener('mousemove',function(evt){\n//   var loc = cursorPoint(evt);\n//   // Use loc.x and loc.y here\n// },false);\n\n  mouseDown(e) {\n    this.setState({\n      mousedown: true\n    });\n  }\n\n  mouseMove(e) {\n    let loc = utils.getSVGpoint(e, this.state.v0, this.state.v1, this.state.v2, this.state.v3 ,this.state.width, this.state.height);\n\n    console.log(loc.x, loc.y)\n  }\n\n  mouseUp(e) {\n    this.setState({\n      mousedown: false\n    });\n  }\n\n  render() {\n\n    return (\n      <svg\n        width={this.state.width}\n        height={this.state.height}\n        viewBox={`${this.state.v0} ${this.state.v1} ${this.state.v2} ${this.state.v3}`}\n        xmlns={\"http://www.w3.org/2000/svg\"}\n        onWheel={(e) => this.wheel(e)}\n        onMouseDown={(e) => this.mouseDown(e)}\n        onMouseMove={(e) => this.mouseMove(e)}\n        onMouseUp={(e) => this.mouseUp(e)}\n        style={{border: \"1px solid #cccccc\"}}>\n          <circle cx=\"0\" cy=\"0\" r=\"10\"/>\n          <g dangerouslySetInnerHTML={{__html: this.props.group}}/>\n      </svg>\n    );\n  }\n}\n\nexport {Workplane}\n"]},"metadata":{},"sourceType":"module"}