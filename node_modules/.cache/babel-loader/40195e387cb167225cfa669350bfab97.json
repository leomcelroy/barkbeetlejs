{"ast":null,"code":"'use strict';\n\nvar React = require('react');\n\nvar classNames = require('classnames');\n\nfunction validatePassword(value) {\n  return value.length >= 8;\n}\n\nmodule.exports = React.createClass({\n  displayName: 'PasswordInputGroup',\n  propTypes: {\n    alwaysValidate: React.PropTypes.bool,\n    className: React.PropTypes.string,\n    invalidMessage: React.PropTypes.string,\n    label: React.PropTypes.string,\n    onChange: React.PropTypes.func,\n    required: React.PropTypes.bool,\n    requiredMessage: React.PropTypes.string,\n    validatePassword: React.PropTypes.func,\n    value: React.PropTypes.string\n  },\n  getDefaultProps: function getDefaultProps() {\n    return {\n      validatePassword: validatePassword,\n      requiredMessage: 'Password is required',\n      invalidMessage: 'Password must be at least 8 characters in length'\n    };\n  },\n  getInitialState: function getInitialState() {\n    return {\n      isValid: true,\n      validationIsActive: this.props.alwaysValidate\n    };\n  },\n  componentDidMount: function componentDidMount() {\n    if (this.state.validationIsActive) {\n      this.validateInput(this.props.value);\n    }\n  },\n  componentWillReceiveProps: function componentWillReceiveProps(newProps) {\n    if (this.state.validationIsActive) {\n      if (newProps.value !== this.props.value && newProps.value !== this._lastChangeValue && !newProps.alwaysValidate) {\n        // reset validation state if the value was changed outside the component\n        return this.setState({\n          isValid: true,\n          validationIsActive: false\n        });\n      }\n\n      this.validateInput(newProps.value);\n    }\n  },\n  handleChange: function handleChange(e) {\n    this._lastChangeValue = e.target.value;\n    if (this.props.onChange) this.props.onChange(e);\n  },\n  handleBlur: function handleBlur() {\n    if (!this.props.alwaysValidate) {\n      this.setState({\n        validationIsActive: false\n      });\n    }\n\n    this.validateInput(this.props.value);\n  },\n  validateInput: function validateInput(value) {\n    var newState = {\n      isValid: true\n    };\n\n    if (value.length && !this.props.validatePassword(value) || !value.length && this.props.required) {\n      newState.isValid = false;\n    }\n\n    if (!newState.isValid) {\n      newState.validationIsActive = true;\n    }\n\n    this.setState(newState);\n  },\n  render: function render() {\n    var validationMessage;\n\n    if (!this.state.isValid) {\n      validationMessage = React.createElement('div', {\n        className: 'form-validation is-invalid'\n      }, this.props.value.length ? this.props.invalidMessage : this.props.requiredMessage);\n    }\n\n    var formGroupClass = classNames('FormField', {\n      'is-invalid': !this.state.isValid\n    }, this.props.className);\n    var componentLabel = this.props.label ? React.createElement('label', {\n      className: 'FormLabel',\n      htmlFor: 'inputPassword'\n    }, this.props.label) : null;\n    return React.createElement('div', {\n      className: formGroupClass\n    }, componentLabel, React.createElement('input', {\n      onChange: this.handleChange,\n      onBlur: this.handleBlur,\n      value: this.props.value,\n      type: 'password',\n      className: 'FormInput',\n      placeholder: 'Enter password',\n      id: 'inputPassword'\n    }), validationMessage);\n  }\n});","map":null,"metadata":{},"sourceType":"script"}