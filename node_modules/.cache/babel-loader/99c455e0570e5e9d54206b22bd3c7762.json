{"ast":null,"code":"import _objectSpread from \"/Users/leomcelroy/Desktop/barkbeetle_js/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport * as mjs from 'makerjs';\nimport * as s2p from 'shape2path';\nimport * as svgson from 'svgson';\nimport * as utils from './utils.js';\nimport { flattenSVG } from 'flatten-svg';\nimport { connectPoints } from './unmakerjs/primitives.js';\nimport { clipOffset } from './unmakerjs/clipper.js';\nimport store from \"./store.js\"; //this is my global state library, this is the only file that will getState() it will pass that to all sub components or should i import store in respective components\n\nvar uploadSVG = function uploadSVG(e) {\n  //main event\n  var files = e.target.files;\n  var file = files[0];\n  var reader = new FileReader();\n\n  reader.onload = function (event) {\n    var text = event.target.result;\n    var hmm = document.getElementById('thisIsDumb');\n    hmm.innerHTML = text;\n    var paths = flattenSVG(hmm);\n    var contours = {};\n    Object.values(paths).forEach(function (path) {\n      var lines2 = connectPoints(path.points);\n      models2[utils.makeID()] = lines2;\n    });\n    var clip = clipOffset(Object.values(models2)[0], 4, 1); //test\n\n    console.log(clip);\n\n    var shapes2 = _objectSpread({}, store.state.contours, models2, clip);\n\n    store.update({\n      contours: shapes2\n    });\n  };\n\n  reader.readAsText(file);\n};\n\nexport { uploadSVG };","map":{"version":3,"sources":["/Users/leomcelroy/Desktop/barkbeetle_js/src/uploadSVG.js"],"names":["mjs","s2p","svgson","utils","flattenSVG","connectPoints","clipOffset","store","uploadSVG","e","files","target","file","reader","FileReader","onload","event","text","result","hmm","document","getElementById","innerHTML","paths","contours","Object","values","forEach","path","lines2","points","models2","makeID","clip","console","log","shapes2","state","update","readAsText"],"mappings":";AAAA,OAAO,KAAKA,GAAZ,MAAqB,SAArB;AACA,OAAO,KAAKC,GAAZ,MAAqB,YAArB;AACA,OAAO,KAAKC,MAAZ,MAAwB,QAAxB;AACA,OAAO,KAAKC,KAAZ,MAAuB,YAAvB;AACA,SAAQC,UAAR,QAAyB,aAAzB;AAEA,SAAQC,aAAR,QAA4B,2BAA5B;AACA,SAAQC,UAAR,QAAyB,wBAAzB;AAIA,OAAOC,KAAP,MAAkB,YAAlB,C,CAAgC;;AAGhC,IAAMC,SAAS,GAAG,SAAZA,SAAY,CAACC,CAAD,EAAO;AAEvB;AACA,MAAIC,KAAK,GAAGD,CAAC,CAACE,MAAF,CAASD,KAArB;AACA,MAAIE,IAAI,GAAGF,KAAK,CAAC,CAAD,CAAhB;AAEA,MAAIG,MAAM,GAAG,IAAIC,UAAJ,EAAb;;AAEAD,EAAAA,MAAM,CAACE,MAAP,GAAgB,UAACC,KAAD,EAAW;AACzB,QAAIC,IAAI,GAAGD,KAAK,CAACL,MAAN,CAAaO,MAAxB;AAEA,QAAIC,GAAG,GAAGC,QAAQ,CAACC,cAAT,CAAwB,YAAxB,CAAV;AACAF,IAAAA,GAAG,CAACG,SAAJ,GAAgBL,IAAhB;AAEA,QAAIM,KAAK,GAAGnB,UAAU,CAACe,GAAD,CAAtB;AAEA,QAAIK,QAAQ,GAAG,EAAf;AAEAC,IAAAA,MAAM,CAACC,MAAP,CAAcH,KAAd,EAAqBI,OAArB,CAA6B,UAAAC,IAAI,EAAI;AACnC,UAAIC,MAAM,GAAGxB,aAAa,CAACuB,IAAI,CAACE,MAAN,CAA1B;AACAC,MAAAA,OAAO,CAAC5B,KAAK,CAAC6B,MAAN,EAAD,CAAP,GAA0BH,MAA1B;AACD,KAHD;AAKA,QAAII,IAAI,GAAG3B,UAAU,CAACmB,MAAM,CAACC,MAAP,CAAcK,OAAd,EAAuB,CAAvB,CAAD,EAA4B,CAA5B,EAA+B,CAA/B,CAArB,CAfyB,CAe6B;;AACtDG,IAAAA,OAAO,CAACC,GAAR,CAAYF,IAAZ;;AAEA,QAAIG,OAAO,qBAAO7B,KAAK,CAAC8B,KAAN,CAAYb,QAAnB,EAAgCO,OAAhC,EAA4CE,IAA5C,CAAX;;AAEA1B,IAAAA,KAAK,CAAC+B,MAAN,CAAa;AAACd,MAAAA,QAAQ,EAAEY;AAAX,KAAb;AAED,GAtBD;;AAwBAvB,EAAAA,MAAM,CAAC0B,UAAP,CAAkB3B,IAAlB;AACD,CAjCD;;AAmCA,SAAQJ,SAAR","sourcesContent":["import * as mjs from 'makerjs';\nimport * as s2p from 'shape2path';\nimport * as svgson from 'svgson';\nimport * as utils from './utils.js';\nimport {flattenSVG} from 'flatten-svg';\n\nimport {connectPoints} from './unmakerjs/primitives.js';\nimport {clipOffset} from './unmakerjs/clipper.js'\n\n\n\nimport store from \"./store.js\"; //this is my global state library, this is the only file that will getState() it will pass that to all sub components or should i import store in respective components\n\n\nconst uploadSVG = (e) => {\n\n  //main event\n  let files = e.target.files;\n  let file = files[0];\n\n  var reader = new FileReader();\n\n  reader.onload = (event) => {\n    let text = event.target.result;\n\n    let hmm = document.getElementById('thisIsDumb');\n    hmm.innerHTML = text;\n\n    let paths = flattenSVG(hmm);\n\n    let contours = {};\n\n    Object.values(paths).forEach(path => {\n      let lines2 = connectPoints(path.points);\n      models2[utils.makeID()] = lines2;\n    })\n\n    let clip = clipOffset(Object.values(models2)[0], 4, 1)//test\n    console.log(clip);\n\n    let shapes2 = {...store.state.contours, ...models2, ...clip}\n\n    store.update({contours: shapes2});\n\n  };\n\n  reader.readAsText(file);\n}\n\nexport {uploadSVG};\n"]},"metadata":{},"sourceType":"module"}