{"ast":null,"code":"import _objectSpread from \"/Users/leomcelroy/Desktop/barkbeetle_js/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport * as mjs from 'makerjs';\nimport * as s2p from 'shape2path';\nimport * as svgson from 'svgson';\nimport * as utils from './utils.js';\nimport { flattenSVG } from 'flatten-svg';\nimport { connectPoints } from './unmakerjs/primitives.js';\nimport { clipOffset } from './unmakerjs/clipper.js';\nimport store from \"./store.js\"; //this is my global state library, this is the only file that will getState() it will pass that to all sub components or should i import store in respective components\n\nvar uploadSVG = function uploadSVG(e) {\n  //main event\n  var files = e.target.files;\n  var file = files[0];\n  var reader = new FileReader();\n\n  reader.onload = function (event) {\n    var text = event.target.result;\n    var hmm = document.getElementById('thisIsDumb');\n    hmm.innerHTML = text;\n    var paths = flattenSVG(hmm);\n    var contours = {};\n    Object.values(paths).forEach(function (path) {\n      var lines = connectPoints(path.points);\n      contours[utils.makeID()] = lines;\n    });\n    console.log(contours[0]);\n    contours = _objectSpread({}, store.state.contours, contours);\n    store.update({\n      contours: contours\n    });\n  };\n\n  reader.readAsText(file);\n};\n\nexport { uploadSVG };","map":{"version":3,"sources":["/Users/leomcelroy/Desktop/barkbeetle_js/src/uploadSVG.js"],"names":["mjs","s2p","svgson","utils","flattenSVG","connectPoints","clipOffset","store","uploadSVG","e","files","target","file","reader","FileReader","onload","event","text","result","hmm","document","getElementById","innerHTML","paths","contours","Object","values","forEach","path","lines","points","makeID","console","log","state","update","readAsText"],"mappings":";AAAA,OAAO,KAAKA,GAAZ,MAAqB,SAArB;AACA,OAAO,KAAKC,GAAZ,MAAqB,YAArB;AACA,OAAO,KAAKC,MAAZ,MAAwB,QAAxB;AACA,OAAO,KAAKC,KAAZ,MAAuB,YAAvB;AACA,SAAQC,UAAR,QAAyB,aAAzB;AAEA,SAAQC,aAAR,QAA4B,2BAA5B;AACA,SAAQC,UAAR,QAAyB,wBAAzB;AAIA,OAAOC,KAAP,MAAkB,YAAlB,C,CAAgC;;AAGhC,IAAMC,SAAS,GAAG,SAAZA,SAAY,CAACC,CAAD,EAAO;AAEvB;AACA,MAAIC,KAAK,GAAGD,CAAC,CAACE,MAAF,CAASD,KAArB;AACA,MAAIE,IAAI,GAAGF,KAAK,CAAC,CAAD,CAAhB;AAEA,MAAIG,MAAM,GAAG,IAAIC,UAAJ,EAAb;;AAEAD,EAAAA,MAAM,CAACE,MAAP,GAAgB,UAACC,KAAD,EAAW;AACzB,QAAIC,IAAI,GAAGD,KAAK,CAACL,MAAN,CAAaO,MAAxB;AAEA,QAAIC,GAAG,GAAGC,QAAQ,CAACC,cAAT,CAAwB,YAAxB,CAAV;AACAF,IAAAA,GAAG,CAACG,SAAJ,GAAgBL,IAAhB;AAEA,QAAIM,KAAK,GAAGnB,UAAU,CAACe,GAAD,CAAtB;AAEA,QAAIK,QAAQ,GAAG,EAAf;AAEAC,IAAAA,MAAM,CAACC,MAAP,CAAcH,KAAd,EAAqBI,OAArB,CAA6B,UAAAC,IAAI,EAAI;AACnC,UAAIC,KAAK,GAAGxB,aAAa,CAACuB,IAAI,CAACE,MAAN,CAAzB;AACAN,MAAAA,QAAQ,CAACrB,KAAK,CAAC4B,MAAN,EAAD,CAAR,GAA2BF,KAA3B;AACD,KAHD;AAKAG,IAAAA,OAAO,CAACC,GAAR,CAAYT,QAAQ,CAAC,CAAD,CAApB;AAEAA,IAAAA,QAAQ,qBAAOjB,KAAK,CAAC2B,KAAN,CAAYV,QAAnB,EAAgCA,QAAhC,CAAR;AAEAjB,IAAAA,KAAK,CAAC4B,MAAN,CAAa;AAACX,MAAAA,QAAQ,EAARA;AAAD,KAAb;AAED,GArBD;;AAuBAX,EAAAA,MAAM,CAACuB,UAAP,CAAkBxB,IAAlB;AACD,CAhCD;;AAkCA,SAAQJ,SAAR","sourcesContent":["import * as mjs from 'makerjs';\nimport * as s2p from 'shape2path';\nimport * as svgson from 'svgson';\nimport * as utils from './utils.js';\nimport {flattenSVG} from 'flatten-svg';\n\nimport {connectPoints} from './unmakerjs/primitives.js';\nimport {clipOffset} from './unmakerjs/clipper.js'\n\n\n\nimport store from \"./store.js\"; //this is my global state library, this is the only file that will getState() it will pass that to all sub components or should i import store in respective components\n\n\nconst uploadSVG = (e) => {\n\n  //main event\n  let files = e.target.files;\n  let file = files[0];\n\n  var reader = new FileReader();\n\n  reader.onload = (event) => {\n    let text = event.target.result;\n\n    let hmm = document.getElementById('thisIsDumb');\n    hmm.innerHTML = text;\n\n    let paths = flattenSVG(hmm);\n\n    let contours = {};\n\n    Object.values(paths).forEach(path => {\n      let lines = connectPoints(path.points);\n      contours[utils.makeID()] = lines;\n    })\n\n    console.log(contours[0])\n\n    contours = {...store.state.contours, ...contours}\n\n    store.update({contours});\n\n  };\n\n  reader.readAsText(file);\n}\n\nexport {uploadSVG};\n"]},"metadata":{},"sourceType":"module"}