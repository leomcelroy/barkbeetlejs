{"ast":null,"code":"import { FOCUS_DISABLED, FOCUS_GROUP } from '../constants';\nimport { toArray } from './array';\n\nvar filterNested = function filterNested(nodes) {\n  var l = nodes.length;\n  var i = void 0;\n  var j = void 0;\n\n  for (i = 0; i < l; i += 1) {\n    for (j = 0; j < l; j += 1) {\n      if (i !== j) {\n        if (nodes[i].contains(nodes[j])) {\n          return filterNested(nodes.filter(function (x) {\n            return x !== nodes[j];\n          }));\n        }\n      }\n    }\n  }\n\n  return nodes;\n};\n\nvar getTopParent = function getTopParent(node) {\n  return node.parentNode ? getTopParent(node.parentNode) : node;\n};\n\nvar getAllAffectedNodes = function getAllAffectedNodes(node) {\n  var group = node.getAttribute(FOCUS_GROUP);\n\n  if (group) {\n    return filterNested(toArray(getTopParent(node).querySelectorAll('[' + FOCUS_GROUP + '=\"' + group + '\"]:not([' + FOCUS_DISABLED + '=\"disabled\"])')));\n  }\n\n  return [node];\n};\n\nexport default getAllAffectedNodes;","map":null,"metadata":{},"sourceType":"module"}