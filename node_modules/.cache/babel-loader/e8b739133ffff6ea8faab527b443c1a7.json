{"ast":null,"code":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.PLACEMENT_MAP = exports.TYPE_VALUE_RESOLVER_MAP = exports.RANGE_PARSER = exports.RANGE_FORMATTER = exports.DATE_PARSER = exports.DATE_FORMATTER = exports.HAVE_TRIGGER_TYPES = exports.DEFAULT_FORMATS = exports.RANGE_SEPARATOR = undefined;\n\nvar _utils = require('./utils');\n\nvar RANGE_SEPARATOR = exports.RANGE_SEPARATOR = ' - ';\nvar DEFAULT_FORMATS = exports.DEFAULT_FORMATS = {\n  date: 'yyyy-MM-dd',\n  month: 'yyyy-MM',\n  year: 'yyyy',\n  datetime: 'yyyy-MM-dd HH:mm:ss',\n  week: 'yyyywWW',\n  time: 'HH:mm:ss',\n  timerange: 'HH:mm:ss',\n  timeselect: 'HH:mm',\n  daterange: 'yyyy-MM-dd',\n  datetimerange: 'yyyy-MM-dd HH:mm:ss'\n};\nvar HAVE_TRIGGER_TYPES = exports.HAVE_TRIGGER_TYPES = ['date', 'datetime', 'time', 'timeselect', 'week', 'month', 'year', 'daterange', 'timerange', 'datetimerange'];\n\nvar DATE_FORMATTER = exports.DATE_FORMATTER = function DATE_FORMATTER(value, format) {\n  return (0, _utils.formatDate)(value, format);\n};\n\nvar DATE_PARSER = exports.DATE_PARSER = function DATE_PARSER(text, format) {\n  return (0, _utils.parseDate)(text, format);\n};\n\nvar RANGE_FORMATTER = exports.RANGE_FORMATTER = function RANGE_FORMATTER(value, format) {\n  var separator = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : RANGE_SEPARATOR;\n\n  if (Array.isArray(value) && value.length === 2) {\n    var start = value[0];\n    var end = value[1];\n\n    if (start && end) {\n      return (0, _utils.formatDate)(start, format) + separator + (0, _utils.formatDate)(end, format);\n    }\n  }\n\n  return '';\n};\n\nvar RANGE_PARSER = exports.RANGE_PARSER = function RANGE_PARSER(text, format) {\n  var separator = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : RANGE_SEPARATOR;\n  var array = text.split(separator);\n\n  if (array.length === 2) {\n    var range1 = array[0];\n    var range2 = array[1];\n    return [(0, _utils.parseDate)(range1, format), (0, _utils.parseDate)(range2, format)];\n  }\n\n  return [];\n};\n\nvar TYPE_VALUE_RESOLVER_MAP = exports.TYPE_VALUE_RESOLVER_MAP = {\n  default: {\n    formatter: function formatter(value) {\n      if (!value) return '';\n      return '' + value;\n    },\n    parser: function parser(text) {\n      if (text === undefined || text === '') return null;\n      return text;\n    }\n  },\n  week: {\n    formatter: function formatter(value, format) {\n      if (value instanceof Date) {\n        if (!format) {\n          var weekNumber = (0, _utils.getWeekNumber)(value);\n          return value.getFullYear() + 'w' + (weekNumber > 9 ? weekNumber : '0' + weekNumber);\n        } else {\n          var str = DATE_FORMATTER(value, format);\n\n          if (str != '') {\n            var weekno = (0, _utils.deconstructDate)(value).week;\n            str = /WW/.test(str) ? str.replace(/WW/, weekno < 10 ? '0' + weekno : weekno) : str.replace(/W/, weekno);\n          }\n\n          return str;\n        }\n      }\n\n      return '';\n    },\n    parser: function parser(text, format) {\n      var weekno = function weekno(matcher, src) {\n        var str = src.substr(matcher.index, matcher.length);\n\n        if (/\\d\\d?/.test(str)) {\n          return {\n            week: Number(str),\n            isValid: true\n          };\n        } else {\n          return {\n            week: -1,\n            isValid: false\n          };\n        }\n      };\n\n      var date = DATE_PARSER(text, format);\n      var matcher = format.match(/(WW?)/);\n      var wn = null;\n      if (!matcher) return date;else {\n        if (text.length > format.length) return '';\n\n        switch (matcher.length) {\n          case 1:\n            wn = weekno(matcher, text);\n            if (!wn.isValid) return '';\n            break;\n\n          case 2:\n            wn = weekno(matcher, text);\n            if (!wn.isValid) return '';\n            break;\n\n          default:\n            throw new Error('never reach here');\n        }\n\n        return (0, _utils.getDateOfISOWeek)(wn.week, date.getFullYear());\n      }\n    }\n  },\n  date: {\n    formatter: DATE_FORMATTER,\n    parser: DATE_PARSER\n  },\n  datetime: {\n    formatter: DATE_FORMATTER,\n    parser: DATE_PARSER\n  },\n  daterange: {\n    formatter: RANGE_FORMATTER,\n    parser: RANGE_PARSER\n  },\n  datetimerange: {\n    formatter: RANGE_FORMATTER,\n    parser: RANGE_PARSER\n  },\n  timerange: {\n    formatter: RANGE_FORMATTER,\n    parser: RANGE_PARSER\n  },\n  time: {\n    formatter: DATE_FORMATTER,\n    parser: DATE_PARSER\n  },\n  timeselect: {\n    formatter: DATE_FORMATTER,\n    parser: DATE_PARSER\n  },\n  month: {\n    formatter: DATE_FORMATTER,\n    parser: DATE_PARSER\n  },\n  year: {\n    formatter: DATE_FORMATTER,\n    parser: DATE_FORMATTER\n  },\n  number: {\n    formatter: function formatter(value) {\n      if (!value) return '';\n      return '' + value;\n    },\n    parser: function parser(text) {\n      var result = Number(text);\n\n      if (!isNaN(text)) {\n        return result;\n      } else {\n        return null;\n      }\n    }\n  }\n};\nvar PLACEMENT_MAP = exports.PLACEMENT_MAP = {\n  left: 'bottom-start',\n  // in git version 8de9d2ce, this been changed to \n  // center: 'bottom',\n  // due to it's close relation to popper, I dont have enought confidence to update it right now\n  center: 'bottom-center',\n  right: 'bottom-end'\n};\n;\n\nvar _temp = function () {\n  if (typeof __REACT_HOT_LOADER__ === 'undefined') {\n    return;\n  }\n\n  __REACT_HOT_LOADER__.register(RANGE_SEPARATOR, 'RANGE_SEPARATOR', 'src/date-picker/constants.js');\n\n  __REACT_HOT_LOADER__.register(DEFAULT_FORMATS, 'DEFAULT_FORMATS', 'src/date-picker/constants.js');\n\n  __REACT_HOT_LOADER__.register(HAVE_TRIGGER_TYPES, 'HAVE_TRIGGER_TYPES', 'src/date-picker/constants.js');\n\n  __REACT_HOT_LOADER__.register(DATE_FORMATTER, 'DATE_FORMATTER', 'src/date-picker/constants.js');\n\n  __REACT_HOT_LOADER__.register(DATE_PARSER, 'DATE_PARSER', 'src/date-picker/constants.js');\n\n  __REACT_HOT_LOADER__.register(RANGE_FORMATTER, 'RANGE_FORMATTER', 'src/date-picker/constants.js');\n\n  __REACT_HOT_LOADER__.register(RANGE_PARSER, 'RANGE_PARSER', 'src/date-picker/constants.js');\n\n  __REACT_HOT_LOADER__.register(TYPE_VALUE_RESOLVER_MAP, 'TYPE_VALUE_RESOLVER_MAP', 'src/date-picker/constants.js');\n\n  __REACT_HOT_LOADER__.register(PLACEMENT_MAP, 'PLACEMENT_MAP', 'src/date-picker/constants.js');\n}();\n\n;","map":null,"metadata":{},"sourceType":"script"}