{"version":3,"sources":["webpack://TransformationMatrix/webpack/universalModuleDefinition","webpack://TransformationMatrix/webpack/bootstrap","webpack://TransformationMatrix/./src/applyToPoint.js","webpack://TransformationMatrix/./src/fromObject.js","webpack://TransformationMatrix/./src/fromString.js","webpack://TransformationMatrix/./src/identity.js","webpack://TransformationMatrix/./src/inverse.js","webpack://TransformationMatrix/./src/utils.js","webpack://TransformationMatrix/./src/isAffineMatrix.js","webpack://TransformationMatrix/./src/translate.js","webpack://TransformationMatrix/./src/transform.js","webpack://TransformationMatrix/./src/rotate.js","webpack://TransformationMatrix/./src/scale.js","webpack://TransformationMatrix/./src/shear.js","webpack://TransformationMatrix/./src/skew.js","webpack://TransformationMatrix/./src/toString.js","webpack://TransformationMatrix/./src/smoothMatrix.js","webpack://TransformationMatrix/./src/fromTriangles.js","webpack://TransformationMatrix/./src/fromDefinition.js","webpack://TransformationMatrix/./src/fromTransformAttribute.autogenerated.js","webpack://TransformationMatrix/./src/fromTransformAttribute.js","webpack://TransformationMatrix/./src/index.js"],"names":["applyToPoint","matrix","point","Array","isArray","a","c","e","b","d","f","x","y","applyToPoints","points","map","fromObject","object","parseFloat","matrixRegex","fromString","string","parsed","match","length","Error","identity","inverse","denom","isUndefined","val","isNumeric","n","Number","isNaN","isFinite","isObject","obj","matchesShape","keys","every","key","isAffineMatrix","hasOwnProperty","translate","tx","ty","transform","matrices","multiply","m1","m2","rest","m","compose","cos","Math","sin","PI","rotate","angle","cx","cy","cosAngle","sinAngle","rotationMatrix","rotateDEG","undefined","scale","sx","sy","shear","shx","shy","tan","skew","ax","ay","skewDEG","toCSS","toString","toSVG","smoothMatrix","precision","round","fromTriangles","t1","t2","px1","py1","px2","py2","qx1","qy1","qx2","qy2","rx1","ry1","rx2","ry2","r1","r2","inverseR1","affineMatrix","fromDefinition","definitionOrArrayOfDefinition","mapper","descriptor","type","peg$subclass","child","parent","C","constructor","prototype","peg$SyntaxError","message","expected","found","location","name","captureStackTrace","buildMessage","DESCRIBE_EXPECTATION_FNS","literal","expectation","literalEscape","text","escapedParts","parts","part","classEscape","inverted","any","end","other","description","not","describeExpectation","hex","ch","charCodeAt","toUpperCase","s","replace","describeExpected","descriptions","i","j","sort","slice","join","describeFound","peg$parse","input","options","peg$FAILED","peg$startRuleFunctions","transformList","peg$parsetransformList","peg$startRuleFunction","peg$c0","peg$c1","peg$c2","peg$c3","peg$c4","peg$c5","peg$c6","peg$c7","peg$c8","peg$c9","peg$r0","peg$r1","peg$r2","peg$r3","peg$e0","peg$literalExpectation","peg$e1","peg$e2","peg$e3","peg$e4","peg$e5","peg$e6","peg$e7","peg$e8","peg$e9","peg$otherExpectation","peg$e10","peg$classExpectation","peg$e11","peg$e12","peg$e13","peg$f0","ts","peg$f1","t","concat","peg$f2","peg$f3","peg$f4","peg$f5","r","peg$f6","peg$f7","peg$f8","peg$f9","parseInt","peg$f10","peg$f11","n1","n2","peg$f12","ds","peg$f13","d1","d2","peg$f14","peg$currPos","peg$savedPos","peg$posDetailsCache","line","column","peg$expected","peg$silentFails","peg$result","startRule","substring","offset","range","peg$computeLocation","peg$buildStructuredError","error","peg$buildSimpleError","ignoreCase","peg$anyExpectation","peg$endExpectation","peg$computePosDetails","pos","details","p","peg$VALIDFILENAME","filename","startPos","endPos","loc","startPosDetails","start","endPosDetails","peg$begin","push","variants","peg$expect","top","peg$end","invert","pop","apply","peg$buildError","failPos","charAt","s0","s1","s2","s3","s4","rule$expects","peg$parsewsp","peg$parsetransforms","peg$parsetransform","peg$parsecommaWsp","peg$parsematrix","peg$parsetranslate","peg$parsescale","peg$parserotate","peg$parseskewX","peg$parseskewY","s5","s6","s7","s8","s9","s10","s11","s12","s13","s14","s15","s16","s17","substr","peg$parsenumber","peg$parsecommaWspNumber","peg$parsecommaWspTwoNumbers","peg$parsesign","peg$parsefloatingPointConstant","peg$parseintegerConstant","peg$parsecomma","peg$parsedigitSequence","peg$parsefractionalConstant","peg$parseexponent","test","peg$parsedigit","SyntaxError","parse","fromTransformAttribute","transformString"],"mappings":"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","file":"transformation-matrix.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"TransformationMatrix\"] = factory();\n\telse\n\t\troot[\"TransformationMatrix\"] = factory();\n})(window, function() {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n","/**\n * Calculate a point transformed with an affine matrix\n * @param matrix {Matrix} Affine Matrix\n * @param  point {Point} Point\n * @returns {Point} Point\n */\nexport function applyToPoint (matrix, point) {\n  return Array.isArray(point) ? [\n    matrix.a * point[0] + matrix.c * point[1] + matrix.e,\n    matrix.b * point[0] + matrix.d * point[1] + matrix.f\n  ] : {\n    x: matrix.a * point.x + matrix.c * point.y + matrix.e,\n    y: matrix.b * point.x + matrix.d * point.y + matrix.f\n  }\n}\n\n/**\n * Calculate an array of points transformed with an affine matrix\n * @param matrix {Matrix} Affine Matrix\n * @param points {Point[]} Array of point\n * @returns {Point[]} Array of point\n */\nexport function applyToPoints (matrix, points) {\n  return points.map(point => applyToPoint(matrix, point))\n}\n","/**\n * Extract an affine matrix from an object that contains a,b,c,d,e,f keys\n * Any value could be a float or a string that contains a float\n * @param object {Object} Object that contains a,b,c,d,e,f keys\n * @return {Matrix} Affine Matrix\n */\nexport function fromObject (object) {\n  return {\n    a: parseFloat(object.a),\n    b: parseFloat(object.b),\n    c: parseFloat(object.c),\n    d: parseFloat(object.d),\n    e: parseFloat(object.e),\n    f: parseFloat(object.f)\n  }\n}\n","/**\n * @ignore\n * @type {RegExp}\n */\nconst matrixRegex = /^matrix\\(\\s*([0-9_+-.e]+)\\s*,\\s*([0-9_+-.e]+)\\s*,\\s*([0-9_+-.e]+)\\s*,\\s*([0-9_+-.e]+)\\s*,\\s*([0-9_+-.e]+)\\s*,\\s*([0-9_+-.e]+)\\s*\\)$/i\n\n/**\n * Parse a string formatted as matrix(a,b,c,d,e,f)\n * @param string {string} String with an affine matrix\n * @returns {Matrix} Affine Matrix\n *\n * @example\n * > fromString('matrix(1,2,3,4,5,6)')\n * {a: 1, b: 2, c: 3, d: 4, c: 5, e: 6}\n */\nexport function fromString (string) {\n  let parsed = string.match(matrixRegex)\n  if (parsed === null || parsed.length < 7) throw new Error(`'${string}' is not a matrix`)\n  return {\n    a: parseFloat(parsed[1]),\n    b: parseFloat(parsed[2]),\n    c: parseFloat(parsed[3]),\n    d: parseFloat(parsed[4]),\n    e: parseFloat(parsed[5]),\n    f: parseFloat(parsed[6])\n  }\n}\n","/**\n * Identity matrix\n * @returns {Matrix} Affine Matrix\n */\nexport function identity () {\n  return {\n    a: 1,\n    c: 0,\n    e: 0,\n    b: 0,\n    d: 1,\n    f: 0\n  }\n}\n","/**\n * Calculate a matrix that is the inverse of the provided matrix\n * @param matrix {Matrix} Affine Matrix\n * @returns {Matrix} Inverted Affine Matrix\n */\nexport function inverse (matrix) {\n  // http://www.wolframalpha.com/input/?i=Inverse+%5B%7B%7Ba,c,e%7D,%7Bb,d,f%7D,%7B0,0,1%7D%7D%5D\n\n  let { a, b, c, d, e, f } = matrix\n\n  let denom = a * d - b * c\n\n  return {\n    a: d / denom,\n    b: b / -denom,\n    c: c / -denom,\n    d: a / denom,\n    e: (d * e - c * f) / -denom,\n    f: (b * e - a * f) / denom\n  }\n}\n","export function isUndefined (val) {\n  return typeof val === 'undefined'\n}\n\nexport function isNumeric (n) {\n  return typeof n === 'number' &&\n    !Number.isNaN(n) &&\n    Number.isFinite(n)\n}\n\nexport function isObject (obj) {\n  return typeof obj === 'object' &&\n    obj !== null &&\n    !Array.isArray(obj)\n}\n\nexport function matchesShape (obj, keys) {\n  return keys.every(key => key in obj)\n}\n","import { isNumeric, isObject } from './utils'\n\n/**\n * Check if the object contain an affine matrix\n * @param object {Object} Generic Plain Object\n * @return {boolean} True if is an object and contains an affine matrix\n */\n\nexport function isAffineMatrix (object) {\n  return isObject(object) &&\n    object.hasOwnProperty('a') &&\n    isNumeric(object.a) &&\n    object.hasOwnProperty('b') &&\n    isNumeric(object.b) &&\n    object.hasOwnProperty('c') &&\n    isNumeric(object.c) &&\n    object.hasOwnProperty('d') &&\n    isNumeric(object.d) &&\n    object.hasOwnProperty('e') &&\n    isNumeric(object.e) &&\n    object.hasOwnProperty('f') &&\n    isNumeric(object.f)\n}\n","/**\n * Calculate a translate matrix\n * @param tx {number} Translation on axis x\n * @param [ty = 0] {number} Translation on axis y\n * @returns {Matrix} Affine Matrix\n */\nexport function translate (tx, ty = 0) {\n  return {\n    a: 1,\n    c: 0,\n    e: tx,\n    b: 0,\n    d: 1,\n    f: ty\n  }\n}\n","/**\n * Merge multiple matrices into one\n * @param matrices {Matrix[]} Array of affine matrix\n * @returns {Matrix} Affine Matrix\n */\nexport function transform (...matrices) {\n  matrices = Array.isArray(matrices[0]) ? matrices[0] : matrices\n\n  const multiply = (m1, m2) => {\n    return {\n      a: m1.a * m2.a + m1.c * m2.b,\n      c: m1.a * m2.c + m1.c * m2.d,\n      e: m1.a * m2.e + m1.c * m2.f + m1.e,\n      b: m1.b * m2.a + m1.d * m2.b,\n      d: m1.b * m2.c + m1.d * m2.d,\n      f: m1.b * m2.e + m1.d * m2.f + m1.f\n    }\n  }\n\n  switch (matrices.length) {\n    case 0:\n      throw new Error('no matrices provided')\n\n    case 1:\n      return matrices[0]\n\n    case 2:\n      return multiply(matrices[0], matrices[1])\n\n    default:\n      let [m1, m2, ...rest] = matrices\n      let m = multiply(m1, m2)\n      return transform(m, ...rest)\n  }\n}\n\n/**\n * Merge multiple matrices into one\n * @param matrices {Matrix[]} Array of matrix\n * @returns {Matrix} Affine Matrix\n */\nexport function compose (...matrices) {\n  return transform(...matrices)\n}\n","import { isUndefined } from './utils'\nimport { translate } from './translate'\nimport { transform } from './transform'\n\nconst { cos, sin, PI } = Math\n/**\n * Calculate a rotation matrix\n * @param angle {number} Angle in radians\n * @param [cx] {number} If (cx,cy) are supplied the rotate is about this point\n * @param [cy] {number} If (cx,cy) are supplied the rotate is about this point\n * @returns {Matrix} Affine Matrix\n */\nexport function rotate (angle, cx, cy) {\n  let cosAngle = cos(angle)\n  let sinAngle = sin(angle)\n  let rotationMatrix = {\n    a: cosAngle,\n    c: -sinAngle,\n    e: 0,\n    b: sinAngle,\n    d: cosAngle,\n    f: 0\n  }\n  if (isUndefined(cx) || isUndefined(cy)) {\n    return rotationMatrix\n  }\n\n  return transform([\n    translate(cx, cy),\n    rotationMatrix,\n    translate(-cx, -cy)\n  ])\n}\n\n/**\n * Calculate a rotation matrix with a DEG angle\n * @param angle {number} Angle in degree\n * @param [cx] {number} If (cx,cy) are supplied the rotate is about this point\n * @param [cy] {number} If (cx,cy) are supplied the rotate is about this point\n * @returns {Matrix} Affine Matrix\n */\nexport function rotateDEG (angle, cx = undefined, cy = undefined) {\n  return rotate(angle * PI / 180, cx, cy)\n}\n","import { isUndefined } from './utils'\n\n/**\n * Calculate a scaling matrix\n * @param sx {number} Scaling on axis x\n * @param [sy = sx] {number} Scaling on axis y (default sx)\n * @returns {Matrix} Affine Matrix\n */\nexport function scale (sx, sy = undefined) {\n  if (isUndefined(sy)) sy = sx\n  return {\n    a: sx,\n    c: 0,\n    e: 0,\n    b: 0,\n    d: sy,\n    f: 0\n  }\n}\n","/**\n * Calculate a shear matrix\n * @param shx {number} Shear on axis x\n * @param shy {number} Shear on axis y\n * @returns {Matrix} Affine Matrix\n */\nexport function shear (shx, shy) {\n  return {\n    a: 1,\n    c: shx,\n    e: 0,\n    b: shy,\n    d: 1,\n    f: 0\n  }\n}\n","// https://developer.mozilla.org/en-US/docs/Web/CSS/transform-function/skew\nconst { tan } = Math\n\n/**\n * Calculate a skew matrix\n * @param ax {number} Skew on axis x\n * @param ay {number} Skew on axis y\n * @returns {Matrix} Affine Matrix\n */\nexport function skew (ax, ay) {\n  return {\n    a: 1,\n    c: tan(ax),\n    e: 0,\n    b: tan(ay),\n    d: 1,\n    f: 0\n  }\n}\n\n/**\n * Calculate a skew matrix using DEG angles\n * @param ax {number} Skew on axis x\n * @param ay {number} Skew on axis y\n * @returns {Matrix} Affine Matrix\n */\nexport function skewDEG (ax, ay) {\n  return skew(ax * Math.PI / 180, ay * Math.PI / 180)\n}\n","/**\n * Serialize an affine matrix to a string that can be used with CSS or SVG\n * @param matrix {Matrix} Affine Matrix\n * @returns {string} String that contains an affine matrix formatted as matrix(a,b,c,d,e,f)\n */\nexport function toCSS (matrix) {\n  return toString(matrix)\n}\n\n/**\n * Serialize an affine matrix to a string that can be used with CSS or SVG\n * @param matrix {Matrix} Affine Matrix\n * @returns {string} String that contains an affine matrix formatted as matrix(a,b,c,d,e,f)\n */\nexport function toSVG (matrix) {\n  return toString(matrix)\n}\n\n/**\n * Serialize an affine matrix to a string that can be used with CSS or SVG\n * @param matrix {Matrix} Affine Matrix\n * @returns {string} String that contains an affine matrix formatted as matrix(a,b,c,d,e,f)\n */\nexport function toString (matrix) {\n  return `matrix(${matrix.a},${matrix.b},${matrix.c},${matrix.d},${matrix.e},${matrix.f})`\n}\n","/**\n * Rounds all elements of the given matrix using the given precision\n * @param matrix {Matrix} An affine matrix to round\n * @param [precision] {number} A precision to use for Math.round. Defaults to 10000000000 (meaning which rounds to the 10th digit after the comma).\n * @returns {Matrix} The rounded Affine Matrix\n */\nexport function smoothMatrix (matrix, precision = 10000000000) {\n  return {\n    a: Math.round(matrix.a * precision) / precision,\n    b: Math.round(matrix.b * precision) / precision,\n    c: Math.round(matrix.c * precision) / precision,\n    d: Math.round(matrix.d * precision) / precision,\n    e: Math.round(matrix.e * precision) / precision,\n    f: Math.round(matrix.f * precision) / precision\n  }\n}\n","import { inverse } from './inverse'\nimport { transform } from './transform'\nimport { smoothMatrix } from './smoothMatrix'\n\n/**\n * Returns a matrix that transforms a triangle t1 into another triangle t2, or throws an exception if it is impossible.\n * @param t1 {Point[]} Array of points containing the three points for the first triangle\n * @param t2 {Point[]} Array of points containing the three points for the second triangle\n * @returns {Matrix} Matrix which transforms t1 to t2\n * @throws Exception if the matrix becomes not invertible\n */\nexport function fromTriangles (t1, t2) {\n  // point p = first point of the triangle\n  let px1 = t1[0].x != null ? t1[0].x : t1[0][0]\n  let py1 = t1[0].y != null ? t1[0].y : t1[0][1]\n  let px2 = t2[0].x != null ? t2[0].x : t2[0][0]\n  let py2 = t2[0].y != null ? t2[0].y : t2[0][1]\n\n  // point q = second point of the triangle\n  let qx1 = t1[1].x != null ? t1[1].x : t1[1][0]\n  let qy1 = t1[1].y != null ? t1[1].y : t1[1][1]\n  let qx2 = t2[1].x != null ? t2[1].x : t2[1][0]\n  let qy2 = t2[1].y != null ? t2[1].y : t2[1][1]\n\n  // point r = third point of the triangle\n  let rx1 = t1[2].x != null ? t1[2].x : t1[2][0]\n  let ry1 = t1[2].y != null ? t1[2].y : t1[2][1]\n  let rx2 = t2[2].x != null ? t2[2].x : t2[2][0]\n  let ry2 = t2[2].y != null ? t2[2].y : t2[2][1]\n\n  let r1 = {\n    a: px1 - rx1,\n    b: py1 - ry1,\n    c: qx1 - rx1,\n    d: qy1 - ry1,\n    e: rx1,\n    f: ry1\n  }\n  let r2 = {\n    a: px2 - rx2,\n    b: py2 - ry2,\n    c: qx2 - rx2,\n    d: qy2 - ry2,\n    e: rx2,\n    f: ry2\n  }\n\n  let inverseR1 = inverse(r1)\n  let affineMatrix = transform([r2, inverseR1])\n\n  // round the matrix elements to smooth the finite inversion\n  return smoothMatrix(affineMatrix)\n}\n","import { fromObject } from './fromObject'\nimport { translate } from './translate'\nimport { scale } from './scale'\nimport { rotateDEG } from './rotate'\nimport { skewDEG } from './skew'\nimport { shear } from './shear'\n\n/**\n * Converts array of matrix descriptor to array of matrix\n * @param definitionOrArrayOfDefinition {Object[]} Array of object describing the matrix\n * @returns {Matrix[]} Array of matrix\n *\n * @example\n * > fromDefinition([\n *  { type: 'matrix', a:1, b:2, c:3, d:4, e:5, f:6 },\n *  { type: 'translate', tx: 10, ty: 20 },\n *  { type: 'scale', sx: 2, sy: 4 },\n *  { type: 'rotate', angle: 90, sx: 50, sy: 25 },\n *  { type: 'skewX', angle: 45 },\n *  { type: 'skewY',  angle: 45 },\n *  { type: 'shear', shx: 10, shy: 20}\n * ])\n *\n * [\n *  { a: 1, b: 2, c: 3, d: 4, e: 5, f: 6 },\n *  { a: 1, c: 0, e: 10, b: 0, d: 1, f: 20 },\n *  { a: 2, c: 0, e: 0, b: 0, d: 4, f: 0 },\n *  { a: 6.123, c: -1, e: 0, b: 1, d: 6.123, f: 0 },\n *  { a: 1, c: 0.99.., e: 0, b: 0, d: 1, f: 0 },\n *  { a: 1, c: 0, e: 0, b: 0.99, d: 1, f: 0 },\n *  { a: 1, c: 10, e: 0, b: 20, d: 1, f: 0 }\n * ]\n **/\nexport function fromDefinition (definitionOrArrayOfDefinition) {\n  return Array.isArray(definitionOrArrayOfDefinition)\n    ? definitionOrArrayOfDefinition.map(mapper)\n    : mapper(definitionOrArrayOfDefinition)\n\n  function mapper (descriptor) {\n    switch (descriptor.type) {\n      case 'matrix':\n        if ('a' in descriptor &&\n          'b' in descriptor &&\n          'c' in descriptor &&\n          'd' in descriptor &&\n          'e' in descriptor &&\n          'f' in descriptor\n        ) {\n          return fromObject(descriptor)\n        } else {\n          throw new Error('MISSING_MANDATORY_PARAM')\n        }\n\n      case 'translate':\n        if (!('tx' in descriptor)) throw new Error('MISSING_MANDATORY_PARAM')\n\n        if ('ty' in descriptor) return translate(descriptor.tx, descriptor.ty)\n\n        return translate(descriptor.tx)\n\n      case 'scale':\n        if (!('sx' in descriptor)) throw new Error('MISSING_MANDATORY_PARAM')\n\n        if ('sy' in descriptor) return scale(descriptor.sx, descriptor.sy)\n\n        return scale(descriptor.sx)\n\n      case 'rotate':\n        if (!('angle' in descriptor)) throw new Error('MISSING_MANDATORY_PARAM')\n\n        if ('cx' in descriptor && 'cy' in descriptor) {\n          return rotateDEG(descriptor.angle, descriptor.cx, descriptor.cy)\n        }\n        return rotateDEG(descriptor.angle)\n\n      case 'skewX':\n        if (!('angle' in descriptor)) throw new Error('MISSING_MANDATORY_PARAM')\n        return skewDEG(descriptor.angle, 0)\n\n      case 'skewY':\n        if (!('angle' in descriptor)) throw new Error('MISSING_MANDATORY_PARAM')\n        return skewDEG(0, descriptor.angle)\n\n      case 'shear':\n        if (!('shx' in descriptor && 'shy' in descriptor)) throw new Error('MISSING_MANDATORY_PARAM')\n        return shear(descriptor.shx, descriptor.shy)\n\n      default:\n        throw new Error('UNSUPPORTED_DESCRIPTOR')\n    }\n  }\n}\n","// Generated by PEG.js v0.11.0-master.30f3260, https://pegjs.org/\n\nfunction peg$subclass(child, parent) {\n  function C() { this.constructor = child; }\n  C.prototype = parent.prototype;\n  child.prototype = new C();\n}\n\nfunction peg$SyntaxError(message, expected, found, location) {\n  this.message = message;\n  this.expected = expected;\n  this.found = found;\n  this.location = location;\n  this.name = \"SyntaxError\";\n\n  // istanbul ignore next\n  if (typeof Error.captureStackTrace === \"function\") {\n    Error.captureStackTrace(this, peg$SyntaxError);\n  }\n}\n\npeg$subclass(peg$SyntaxError, Error);\n\npeg$SyntaxError.buildMessage = function(expected, found) {\n  var DESCRIBE_EXPECTATION_FNS = {\n    literal: function(expectation) {\n      return \"\\\"\" + literalEscape(expectation.text) + \"\\\"\";\n    },\n\n    class: function(expectation) {\n      var escapedParts = expectation.parts.map(function(part) {\n        return Array.isArray(part)\n          ? classEscape(part[0]) + \"-\" + classEscape(part[1])\n          : classEscape(part);\n      });\n\n      return \"[\" + (expectation.inverted ? \"^\" : \"\") + escapedParts + \"]\";\n    },\n\n    any: function() {\n      return \"any character\";\n    },\n\n    end: function() {\n      return \"end of input\";\n    },\n\n    other: function(expectation) {\n      return expectation.description;\n    },\n\n    not: function(expectation) {\n      return \"not \" + describeExpectation(expectation.expected);\n    }\n  };\n\n  function hex(ch) {\n    return ch.charCodeAt(0).toString(16).toUpperCase();\n  }\n\n  function literalEscape(s) {\n    return s\n      .replace(/\\\\/g, \"\\\\\\\\\")\n      .replace(/\"/g,  \"\\\\\\\"\")\n      .replace(/\\0/g, \"\\\\0\")\n      .replace(/\\t/g, \"\\\\t\")\n      .replace(/\\n/g, \"\\\\n\")\n      .replace(/\\r/g, \"\\\\r\")\n      .replace(/[\\x00-\\x0F]/g,          function(ch) { return \"\\\\x0\" + hex(ch); })\n      .replace(/[\\x10-\\x1F\\x7F-\\x9F]/g, function(ch) { return \"\\\\x\"  + hex(ch); });\n  }\n\n  function classEscape(s) {\n    return s\n      .replace(/\\\\/g, \"\\\\\\\\\")\n      .replace(/\\]/g, \"\\\\]\")\n      .replace(/\\^/g, \"\\\\^\")\n      .replace(/-/g,  \"\\\\-\")\n      .replace(/\\0/g, \"\\\\0\")\n      .replace(/\\t/g, \"\\\\t\")\n      .replace(/\\n/g, \"\\\\n\")\n      .replace(/\\r/g, \"\\\\r\")\n      .replace(/[\\x00-\\x0F]/g,          function(ch) { return \"\\\\x0\" + hex(ch); })\n      .replace(/[\\x10-\\x1F\\x7F-\\x9F]/g, function(ch) { return \"\\\\x\"  + hex(ch); });\n  }\n\n  function describeExpectation(expectation) {\n    return DESCRIBE_EXPECTATION_FNS[expectation.type](expectation);\n  }\n\n  function describeExpected(expected) {\n    var descriptions = expected.map(describeExpectation);\n    var i, j;\n\n    descriptions.sort();\n\n    if (descriptions.length > 0) {\n      for (i = 1, j = 1; i < descriptions.length; i++) {\n        if (descriptions[i - 1] !== descriptions[i]) {\n          descriptions[j] = descriptions[i];\n          j++;\n        }\n      }\n      descriptions.length = j;\n    }\n\n    switch (descriptions.length) {\n      case 1:\n        return descriptions[0];\n\n      case 2:\n        return descriptions[0] + \" or \" + descriptions[1];\n\n      default:\n        return descriptions.slice(0, -1).join(\", \")\n          + \", or \"\n          + descriptions[descriptions.length - 1];\n    }\n  }\n\n  function describeFound(found) {\n    return found ? \"\\\"\" + literalEscape(found) + \"\\\"\" : \"end of input\";\n  }\n\n  return \"Expected \" + describeExpected(expected) + \" but \" + describeFound(found) + \" found.\";\n};\n\nfunction peg$parse(input, options) {\n  options = options !== undefined ? options : {};\n\n  var peg$FAILED = {};\n\n  var peg$startRuleFunctions = { transformList: peg$parsetransformList };\n  var peg$startRuleFunction = peg$parsetransformList;\n\n  var peg$c0 = \"matrix\";\n  var peg$c1 = \"(\";\n  var peg$c2 = \")\";\n  var peg$c3 = \"translate\";\n  var peg$c4 = \"scale\";\n  var peg$c5 = \"rotate\";\n  var peg$c6 = \"skewX\";\n  var peg$c7 = \"skewY\";\n  var peg$c8 = \",\";\n  var peg$c9 = \".\";\n\n  var peg$r0 = /^[eE]/;\n  var peg$r1 = /^[+\\-]/;\n  var peg$r2 = /^[0-9]/;\n  var peg$r3 = /^[ \\t\\r\\n]/;\n\n  var peg$e0 = peg$literalExpectation(\"matrix\", false);\n  var peg$e1 = peg$literalExpectation(\"(\", false);\n  var peg$e2 = peg$literalExpectation(\")\", false);\n  var peg$e3 = peg$literalExpectation(\"translate\", false);\n  var peg$e4 = peg$literalExpectation(\"scale\", false);\n  var peg$e5 = peg$literalExpectation(\"rotate\", false);\n  var peg$e6 = peg$literalExpectation(\"skewX\", false);\n  var peg$e7 = peg$literalExpectation(\"skewY\", false);\n  var peg$e8 = peg$literalExpectation(\",\", false);\n  var peg$e9 = peg$otherExpectation(\"fractionalConstant\");\n  var peg$e10 = peg$classExpectation([\"e\", \"E\"], false, false);\n  var peg$e11 = peg$classExpectation([\"+\", \"-\"], false, false);\n  var peg$e12 = peg$classExpectation([[\"0\", \"9\"]], false, false);\n  var peg$e13 = peg$classExpectation([\" \", \"\\t\", \"\\r\", \"\\n\"], false, false);\n\n  var peg$f0 = function(ts) { return ts; };\n  var peg$f1 = function(t, ts) { return t.concat(ts) };\n  var peg$f2 = function(a, b, c, d, e, f) {\n        return [{type: 'matrix', a: a, b: b, c: c, d: d, e: e, f: f}];\n      };\n  var peg$f3 = function(tx, ty) {\n        var t = {type: 'translate', tx: tx};\n        if (ty) t.ty = ty;\n        return [t];\n      };\n  var peg$f4 = function(sx, sy) {\n        var s = {type:'scale', sx: sx};\n        if (sy) s.sy = sy;\n        return [s];\n      };\n  var peg$f5 = function(angle, c) {\n        var r = {type:'rotate', angle: angle};\n        if (c) {\n          r.cx = c[0];\n          r.cy = c[1];\n        }\n        return [r];\n      };\n  var peg$f6 = function(angle) {\n        return [{type: 'skewX', angle: angle}];\n      };\n  var peg$f7 = function(angle) {\n        return [{type: 'skewY', angle: angle}];\n      };\n  var peg$f8 = function(f) { return parseFloat(f.join(\"\")); };\n  var peg$f9 = function(i) { return parseInt(i.join(\"\")); };\n  var peg$f10 = function(n) { return n; };\n  var peg$f11 = function(n1, n2) { return [n1, n2]; };\n  var peg$f12 = function(ds) { return ds.join(\"\"); };\n  var peg$f13 = function(d1, d2) { return [d1 ? d1.join(\"\") : null, \".\", d2.join(\"\")].join(\"\"); };\n  var peg$f14 = function(d) { return d.join(\"\"); };\n\n  var peg$currPos = 0;\n  var peg$savedPos = 0;\n  var peg$posDetailsCache = [{ line: 1, column: 1 }];\n  var peg$expected = [];\n  var peg$silentFails = 0;\n\n  var peg$result;\n\n  if (\"startRule\" in options) {\n    if (!(options.startRule in peg$startRuleFunctions)) {\n      throw new Error(\"Can't start parsing from rule \\\"\" + options.startRule + \"\\\".\");\n    }\n\n    peg$startRuleFunction = peg$startRuleFunctions[options.startRule];\n  }\n\n  function text() {\n    return input.substring(peg$savedPos, peg$currPos);\n  }\n\n  function offset() {\n    return peg$savedPos;\n  }\n\n  function range() {\n    return [peg$savedPos, peg$currPos];\n  }\n\n  function location() {\n    return peg$computeLocation(peg$savedPos, peg$currPos);\n  }\n\n  function expected(description, location) {\n    location = location !== undefined\n      ? location\n      : peg$computeLocation(peg$savedPos, peg$currPos);\n\n    throw peg$buildStructuredError(\n      [peg$otherExpectation(description)],\n      input.substring(peg$savedPos, peg$currPos),\n      location\n    );\n  }\n\n  function error(message, location) {\n    location = location !== undefined\n      ? location\n      : peg$computeLocation(peg$savedPos, peg$currPos);\n\n    throw peg$buildSimpleError(message, location);\n  }\n\n  function peg$literalExpectation(text, ignoreCase) {\n    return { type: \"literal\", text: text, ignoreCase: ignoreCase };\n  }\n\n  function peg$classExpectation(parts, inverted, ignoreCase) {\n    return { type: \"class\", parts: parts, inverted: inverted, ignoreCase: ignoreCase };\n  }\n\n  function peg$anyExpectation() {\n    return { type: \"any\" };\n  }\n\n  function peg$endExpectation() {\n    return { type: \"end\" };\n  }\n\n  function peg$otherExpectation(description) {\n    return { type: \"other\", description: description };\n  }\n\n  function peg$computePosDetails(pos) {\n    var details = peg$posDetailsCache[pos];\n    var p;\n\n    if (details) {\n      return details;\n    } else {\n      p = pos - 1;\n      while (!peg$posDetailsCache[p]) {\n        p--;\n      }\n\n      details = peg$posDetailsCache[p];\n      details = {\n        line: details.line,\n        column: details.column\n      };\n\n      while (p < pos) {\n        if (input.charCodeAt(p) === 10) {\n          details.line++;\n          details.column = 1;\n        } else {\n          details.column++;\n        }\n\n        p++;\n      }\n\n      peg$posDetailsCache[pos] = details;\n\n      return details;\n    }\n  }\n\n  var peg$VALIDFILENAME = typeof options.filename === \"string\" && options.filename.length > 0;\n  function peg$computeLocation(startPos, endPos) {\n    var loc = {};\n\n    if ( peg$VALIDFILENAME ) loc.filename = options.filename;\n\n    var startPosDetails = peg$computePosDetails(startPos);\n    loc.start = {\n      offset: startPos,\n      line: startPosDetails.line,\n      column: startPosDetails.column\n    };\n\n    var endPosDetails = peg$computePosDetails(endPos);\n    loc.end = {\n      offset: endPos,\n      line: endPosDetails.line,\n      column: endPosDetails.column\n    };\n\n    return loc;\n  }\n\n  function peg$begin() {\n    peg$expected.push({ pos: peg$currPos, variants: [] });\n  }\n\n  function peg$expect(expected) {\n    var top = peg$expected[peg$expected.length - 1];\n\n    if (peg$currPos < top.pos) { return; }\n\n    if (peg$currPos > top.pos) {\n      top.pos = peg$currPos;\n      top.variants = [];\n    }\n\n    top.variants.push(expected);\n  }\n\n  function peg$end(invert) {\n    var expected = peg$expected.pop();\n    var top = peg$expected[peg$expected.length - 1];\n    var variants = expected.variants;\n\n    if (top.pos !== expected.pos) { return; }\n\n    if (invert) {\n      variants = variants.map(function(e) {\n        return e.type === \"not\" ? e.expected : { type: \"not\", expected: e };\n      });\n    }\n\n    Array.prototype.push.apply(top.variants, variants);\n  }\n\n  function peg$buildSimpleError(message, location) {\n    return new peg$SyntaxError(message, null, null, location);\n  }\n\n  function peg$buildStructuredError(expected, found, location) {\n    return new peg$SyntaxError(\n      peg$SyntaxError.buildMessage(expected, found),\n      expected,\n      found,\n      location\n    );\n  }\n\n  function peg$buildError() {\n    var expected = peg$expected[0];\n    var failPos = expected.pos;\n\n    return peg$buildStructuredError(\n      expected.variants,\n      failPos < input.length ? input.charAt(failPos) : null,\n      failPos < input.length\n        ? peg$computeLocation(failPos, failPos + 1)\n        : peg$computeLocation(failPos, failPos)\n    );\n  }\n\n  function peg$parsetransformList() {\n    var s0, s1, s2, s3, s4;\n\n    var rule$expects = function (expected) {\n      if (peg$silentFails === 0) peg$expect(expected);\n    }\n\n    s0 = peg$currPos;\n    s1 = [];\n    s2 = peg$parsewsp();\n    while (s2 !== peg$FAILED) {\n      s1.push(s2);\n      s2 = peg$parsewsp();\n    }\n    s2 = peg$parsetransforms();\n    if (s2 === peg$FAILED) {\n      s2 = null;\n    }\n    s3 = [];\n    s4 = peg$parsewsp();\n    while (s4 !== peg$FAILED) {\n      s3.push(s4);\n      s4 = peg$parsewsp();\n    }\n    peg$savedPos = s0;\n    s0 = peg$f0(s2);\n\n    return s0;\n  }\n\n  function peg$parsetransforms() {\n    var s0, s1, s2, s3;\n\n    var rule$expects = function (expected) {\n      if (peg$silentFails === 0) peg$expect(expected);\n    }\n\n    s0 = peg$currPos;\n    s1 = peg$parsetransform();\n    if (s1 !== peg$FAILED) {\n      s2 = [];\n      s3 = peg$parsecommaWsp();\n      if (s3 !== peg$FAILED) {\n        while (s3 !== peg$FAILED) {\n          s2.push(s3);\n          s3 = peg$parsecommaWsp();\n        }\n      } else {\n        s2 = peg$FAILED;\n      }\n      if (s2 !== peg$FAILED) {\n        s3 = peg$parsetransforms();\n        if (s3 !== peg$FAILED) {\n          peg$savedPos = s0;\n          s0 = peg$f1(s1, s3);\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    } else {\n      peg$currPos = s0;\n      s0 = peg$FAILED;\n    }\n    if (s0 === peg$FAILED) {\n      s0 = peg$parsetransform();\n    }\n\n    return s0;\n  }\n\n  function peg$parsetransform() {\n    var s0;\n\n    var rule$expects = function (expected) {\n      if (peg$silentFails === 0) peg$expect(expected);\n    }\n\n    s0 = peg$parsematrix();\n    if (s0 === peg$FAILED) {\n      s0 = peg$parsetranslate();\n      if (s0 === peg$FAILED) {\n        s0 = peg$parsescale();\n        if (s0 === peg$FAILED) {\n          s0 = peg$parserotate();\n          if (s0 === peg$FAILED) {\n            s0 = peg$parseskewX();\n            if (s0 === peg$FAILED) {\n              s0 = peg$parseskewY();\n            }\n          }\n        }\n      }\n    }\n\n    return s0;\n  }\n\n  function peg$parsematrix() {\n    var s0, s1, s2, s3, s4, s5, s6, s7, s8, s9, s10, s11, s12, s13, s14, s15, s16, s17;\n\n    var rule$expects = function (expected) {\n      if (peg$silentFails === 0) peg$expect(expected);\n    }\n\n    s0 = peg$currPos;\n    rule$expects(peg$e0);\n    if (input.substr(peg$currPos, 6) === peg$c0) {\n      s1 = peg$c0;\n      peg$currPos += 6;\n    } else {\n      s1 = peg$FAILED;\n    }\n    if (s1 !== peg$FAILED) {\n      s2 = [];\n      s3 = peg$parsewsp();\n      while (s3 !== peg$FAILED) {\n        s2.push(s3);\n        s3 = peg$parsewsp();\n      }\n      rule$expects(peg$e1);\n      if (input.charCodeAt(peg$currPos) === 40) {\n        s3 = peg$c1;\n        peg$currPos++;\n      } else {\n        s3 = peg$FAILED;\n      }\n      if (s3 !== peg$FAILED) {\n        s4 = [];\n        s5 = peg$parsewsp();\n        while (s5 !== peg$FAILED) {\n          s4.push(s5);\n          s5 = peg$parsewsp();\n        }\n        s5 = peg$parsenumber();\n        if (s5 !== peg$FAILED) {\n          s6 = peg$parsecommaWsp();\n          if (s6 !== peg$FAILED) {\n            s7 = peg$parsenumber();\n            if (s7 !== peg$FAILED) {\n              s8 = peg$parsecommaWsp();\n              if (s8 !== peg$FAILED) {\n                s9 = peg$parsenumber();\n                if (s9 !== peg$FAILED) {\n                  s10 = peg$parsecommaWsp();\n                  if (s10 !== peg$FAILED) {\n                    s11 = peg$parsenumber();\n                    if (s11 !== peg$FAILED) {\n                      s12 = peg$parsecommaWsp();\n                      if (s12 !== peg$FAILED) {\n                        s13 = peg$parsenumber();\n                        if (s13 !== peg$FAILED) {\n                          s14 = peg$parsecommaWsp();\n                          if (s14 !== peg$FAILED) {\n                            s15 = peg$parsenumber();\n                            if (s15 !== peg$FAILED) {\n                              s16 = [];\n                              s17 = peg$parsewsp();\n                              while (s17 !== peg$FAILED) {\n                                s16.push(s17);\n                                s17 = peg$parsewsp();\n                              }\n                              rule$expects(peg$e2);\n                              if (input.charCodeAt(peg$currPos) === 41) {\n                                s17 = peg$c2;\n                                peg$currPos++;\n                              } else {\n                                s17 = peg$FAILED;\n                              }\n                              if (s17 !== peg$FAILED) {\n                                peg$savedPos = s0;\n                                s0 = peg$f2(s5, s7, s9, s11, s13, s15);\n                              } else {\n                                peg$currPos = s0;\n                                s0 = peg$FAILED;\n                              }\n                            } else {\n                              peg$currPos = s0;\n                              s0 = peg$FAILED;\n                            }\n                          } else {\n                            peg$currPos = s0;\n                            s0 = peg$FAILED;\n                          }\n                        } else {\n                          peg$currPos = s0;\n                          s0 = peg$FAILED;\n                        }\n                      } else {\n                        peg$currPos = s0;\n                        s0 = peg$FAILED;\n                      }\n                    } else {\n                      peg$currPos = s0;\n                      s0 = peg$FAILED;\n                    }\n                  } else {\n                    peg$currPos = s0;\n                    s0 = peg$FAILED;\n                  }\n                } else {\n                  peg$currPos = s0;\n                  s0 = peg$FAILED;\n                }\n              } else {\n                peg$currPos = s0;\n                s0 = peg$FAILED;\n              }\n            } else {\n              peg$currPos = s0;\n              s0 = peg$FAILED;\n            }\n          } else {\n            peg$currPos = s0;\n            s0 = peg$FAILED;\n          }\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    } else {\n      peg$currPos = s0;\n      s0 = peg$FAILED;\n    }\n\n    return s0;\n  }\n\n  function peg$parsetranslate() {\n    var s0, s1, s2, s3, s4, s5, s6, s7, s8;\n\n    var rule$expects = function (expected) {\n      if (peg$silentFails === 0) peg$expect(expected);\n    }\n\n    s0 = peg$currPos;\n    rule$expects(peg$e3);\n    if (input.substr(peg$currPos, 9) === peg$c3) {\n      s1 = peg$c3;\n      peg$currPos += 9;\n    } else {\n      s1 = peg$FAILED;\n    }\n    if (s1 !== peg$FAILED) {\n      s2 = [];\n      s3 = peg$parsewsp();\n      while (s3 !== peg$FAILED) {\n        s2.push(s3);\n        s3 = peg$parsewsp();\n      }\n      rule$expects(peg$e1);\n      if (input.charCodeAt(peg$currPos) === 40) {\n        s3 = peg$c1;\n        peg$currPos++;\n      } else {\n        s3 = peg$FAILED;\n      }\n      if (s3 !== peg$FAILED) {\n        s4 = [];\n        s5 = peg$parsewsp();\n        while (s5 !== peg$FAILED) {\n          s4.push(s5);\n          s5 = peg$parsewsp();\n        }\n        s5 = peg$parsenumber();\n        if (s5 !== peg$FAILED) {\n          s6 = peg$parsecommaWspNumber();\n          if (s6 === peg$FAILED) {\n            s6 = null;\n          }\n          s7 = [];\n          s8 = peg$parsewsp();\n          while (s8 !== peg$FAILED) {\n            s7.push(s8);\n            s8 = peg$parsewsp();\n          }\n          rule$expects(peg$e2);\n          if (input.charCodeAt(peg$currPos) === 41) {\n            s8 = peg$c2;\n            peg$currPos++;\n          } else {\n            s8 = peg$FAILED;\n          }\n          if (s8 !== peg$FAILED) {\n            peg$savedPos = s0;\n            s0 = peg$f3(s5, s6);\n          } else {\n            peg$currPos = s0;\n            s0 = peg$FAILED;\n          }\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    } else {\n      peg$currPos = s0;\n      s0 = peg$FAILED;\n    }\n\n    return s0;\n  }\n\n  function peg$parsescale() {\n    var s0, s1, s2, s3, s4, s5, s6, s7, s8;\n\n    var rule$expects = function (expected) {\n      if (peg$silentFails === 0) peg$expect(expected);\n    }\n\n    s0 = peg$currPos;\n    rule$expects(peg$e4);\n    if (input.substr(peg$currPos, 5) === peg$c4) {\n      s1 = peg$c4;\n      peg$currPos += 5;\n    } else {\n      s1 = peg$FAILED;\n    }\n    if (s1 !== peg$FAILED) {\n      s2 = [];\n      s3 = peg$parsewsp();\n      while (s3 !== peg$FAILED) {\n        s2.push(s3);\n        s3 = peg$parsewsp();\n      }\n      rule$expects(peg$e1);\n      if (input.charCodeAt(peg$currPos) === 40) {\n        s3 = peg$c1;\n        peg$currPos++;\n      } else {\n        s3 = peg$FAILED;\n      }\n      if (s3 !== peg$FAILED) {\n        s4 = [];\n        s5 = peg$parsewsp();\n        while (s5 !== peg$FAILED) {\n          s4.push(s5);\n          s5 = peg$parsewsp();\n        }\n        s5 = peg$parsenumber();\n        if (s5 !== peg$FAILED) {\n          s6 = peg$parsecommaWspNumber();\n          if (s6 === peg$FAILED) {\n            s6 = null;\n          }\n          s7 = [];\n          s8 = peg$parsewsp();\n          while (s8 !== peg$FAILED) {\n            s7.push(s8);\n            s8 = peg$parsewsp();\n          }\n          rule$expects(peg$e2);\n          if (input.charCodeAt(peg$currPos) === 41) {\n            s8 = peg$c2;\n            peg$currPos++;\n          } else {\n            s8 = peg$FAILED;\n          }\n          if (s8 !== peg$FAILED) {\n            peg$savedPos = s0;\n            s0 = peg$f4(s5, s6);\n          } else {\n            peg$currPos = s0;\n            s0 = peg$FAILED;\n          }\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    } else {\n      peg$currPos = s0;\n      s0 = peg$FAILED;\n    }\n\n    return s0;\n  }\n\n  function peg$parserotate() {\n    var s0, s1, s2, s3, s4, s5, s6, s7, s8;\n\n    var rule$expects = function (expected) {\n      if (peg$silentFails === 0) peg$expect(expected);\n    }\n\n    s0 = peg$currPos;\n    rule$expects(peg$e5);\n    if (input.substr(peg$currPos, 6) === peg$c5) {\n      s1 = peg$c5;\n      peg$currPos += 6;\n    } else {\n      s1 = peg$FAILED;\n    }\n    if (s1 !== peg$FAILED) {\n      s2 = [];\n      s3 = peg$parsewsp();\n      while (s3 !== peg$FAILED) {\n        s2.push(s3);\n        s3 = peg$parsewsp();\n      }\n      rule$expects(peg$e1);\n      if (input.charCodeAt(peg$currPos) === 40) {\n        s3 = peg$c1;\n        peg$currPos++;\n      } else {\n        s3 = peg$FAILED;\n      }\n      if (s3 !== peg$FAILED) {\n        s4 = [];\n        s5 = peg$parsewsp();\n        while (s5 !== peg$FAILED) {\n          s4.push(s5);\n          s5 = peg$parsewsp();\n        }\n        s5 = peg$parsenumber();\n        if (s5 !== peg$FAILED) {\n          s6 = peg$parsecommaWspTwoNumbers();\n          if (s6 === peg$FAILED) {\n            s6 = null;\n          }\n          s7 = [];\n          s8 = peg$parsewsp();\n          while (s8 !== peg$FAILED) {\n            s7.push(s8);\n            s8 = peg$parsewsp();\n          }\n          rule$expects(peg$e2);\n          if (input.charCodeAt(peg$currPos) === 41) {\n            s8 = peg$c2;\n            peg$currPos++;\n          } else {\n            s8 = peg$FAILED;\n          }\n          if (s8 !== peg$FAILED) {\n            peg$savedPos = s0;\n            s0 = peg$f5(s5, s6);\n          } else {\n            peg$currPos = s0;\n            s0 = peg$FAILED;\n          }\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    } else {\n      peg$currPos = s0;\n      s0 = peg$FAILED;\n    }\n\n    return s0;\n  }\n\n  function peg$parseskewX() {\n    var s0, s1, s2, s3, s4, s5, s6, s7;\n\n    var rule$expects = function (expected) {\n      if (peg$silentFails === 0) peg$expect(expected);\n    }\n\n    s0 = peg$currPos;\n    rule$expects(peg$e6);\n    if (input.substr(peg$currPos, 5) === peg$c6) {\n      s1 = peg$c6;\n      peg$currPos += 5;\n    } else {\n      s1 = peg$FAILED;\n    }\n    if (s1 !== peg$FAILED) {\n      s2 = [];\n      s3 = peg$parsewsp();\n      while (s3 !== peg$FAILED) {\n        s2.push(s3);\n        s3 = peg$parsewsp();\n      }\n      rule$expects(peg$e1);\n      if (input.charCodeAt(peg$currPos) === 40) {\n        s3 = peg$c1;\n        peg$currPos++;\n      } else {\n        s3 = peg$FAILED;\n      }\n      if (s3 !== peg$FAILED) {\n        s4 = [];\n        s5 = peg$parsewsp();\n        while (s5 !== peg$FAILED) {\n          s4.push(s5);\n          s5 = peg$parsewsp();\n        }\n        s5 = peg$parsenumber();\n        if (s5 !== peg$FAILED) {\n          s6 = [];\n          s7 = peg$parsewsp();\n          while (s7 !== peg$FAILED) {\n            s6.push(s7);\n            s7 = peg$parsewsp();\n          }\n          rule$expects(peg$e2);\n          if (input.charCodeAt(peg$currPos) === 41) {\n            s7 = peg$c2;\n            peg$currPos++;\n          } else {\n            s7 = peg$FAILED;\n          }\n          if (s7 !== peg$FAILED) {\n            peg$savedPos = s0;\n            s0 = peg$f6(s5);\n          } else {\n            peg$currPos = s0;\n            s0 = peg$FAILED;\n          }\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    } else {\n      peg$currPos = s0;\n      s0 = peg$FAILED;\n    }\n\n    return s0;\n  }\n\n  function peg$parseskewY() {\n    var s0, s1, s2, s3, s4, s5, s6, s7;\n\n    var rule$expects = function (expected) {\n      if (peg$silentFails === 0) peg$expect(expected);\n    }\n\n    s0 = peg$currPos;\n    rule$expects(peg$e7);\n    if (input.substr(peg$currPos, 5) === peg$c7) {\n      s1 = peg$c7;\n      peg$currPos += 5;\n    } else {\n      s1 = peg$FAILED;\n    }\n    if (s1 !== peg$FAILED) {\n      s2 = [];\n      s3 = peg$parsewsp();\n      while (s3 !== peg$FAILED) {\n        s2.push(s3);\n        s3 = peg$parsewsp();\n      }\n      rule$expects(peg$e1);\n      if (input.charCodeAt(peg$currPos) === 40) {\n        s3 = peg$c1;\n        peg$currPos++;\n      } else {\n        s3 = peg$FAILED;\n      }\n      if (s3 !== peg$FAILED) {\n        s4 = [];\n        s5 = peg$parsewsp();\n        while (s5 !== peg$FAILED) {\n          s4.push(s5);\n          s5 = peg$parsewsp();\n        }\n        s5 = peg$parsenumber();\n        if (s5 !== peg$FAILED) {\n          s6 = [];\n          s7 = peg$parsewsp();\n          while (s7 !== peg$FAILED) {\n            s6.push(s7);\n            s7 = peg$parsewsp();\n          }\n          rule$expects(peg$e2);\n          if (input.charCodeAt(peg$currPos) === 41) {\n            s7 = peg$c2;\n            peg$currPos++;\n          } else {\n            s7 = peg$FAILED;\n          }\n          if (s7 !== peg$FAILED) {\n            peg$savedPos = s0;\n            s0 = peg$f7(s5);\n          } else {\n            peg$currPos = s0;\n            s0 = peg$FAILED;\n          }\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    } else {\n      peg$currPos = s0;\n      s0 = peg$FAILED;\n    }\n\n    return s0;\n  }\n\n  function peg$parsenumber() {\n    var s0, s1, s2, s3;\n\n    var rule$expects = function (expected) {\n      if (peg$silentFails === 0) peg$expect(expected);\n    }\n\n    s0 = peg$currPos;\n    s1 = peg$currPos;\n    s2 = peg$parsesign();\n    if (s2 === peg$FAILED) {\n      s2 = null;\n    }\n    s3 = peg$parsefloatingPointConstant();\n    if (s3 !== peg$FAILED) {\n      s2 = [s2, s3];\n      s1 = s2;\n    } else {\n      peg$currPos = s1;\n      s1 = peg$FAILED;\n    }\n    if (s1 !== peg$FAILED) {\n      peg$savedPos = s0;\n      s1 = peg$f8(s1);\n    }\n    s0 = s1;\n    if (s0 === peg$FAILED) {\n      s0 = peg$currPos;\n      s1 = peg$currPos;\n      s2 = peg$parsesign();\n      if (s2 === peg$FAILED) {\n        s2 = null;\n      }\n      s3 = peg$parseintegerConstant();\n      if (s3 !== peg$FAILED) {\n        s2 = [s2, s3];\n        s1 = s2;\n      } else {\n        peg$currPos = s1;\n        s1 = peg$FAILED;\n      }\n      if (s1 !== peg$FAILED) {\n        peg$savedPos = s0;\n        s1 = peg$f9(s1);\n      }\n      s0 = s1;\n    }\n\n    return s0;\n  }\n\n  function peg$parsecommaWspNumber() {\n    var s0, s1, s2;\n\n    var rule$expects = function (expected) {\n      if (peg$silentFails === 0) peg$expect(expected);\n    }\n\n    s0 = peg$currPos;\n    s1 = peg$parsecommaWsp();\n    if (s1 !== peg$FAILED) {\n      s2 = peg$parsenumber();\n      if (s2 !== peg$FAILED) {\n        peg$savedPos = s0;\n        s0 = peg$f10(s2);\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    } else {\n      peg$currPos = s0;\n      s0 = peg$FAILED;\n    }\n\n    return s0;\n  }\n\n  function peg$parsecommaWspTwoNumbers() {\n    var s0, s1, s2, s3, s4;\n\n    var rule$expects = function (expected) {\n      if (peg$silentFails === 0) peg$expect(expected);\n    }\n\n    s0 = peg$currPos;\n    s1 = peg$parsecommaWsp();\n    if (s1 !== peg$FAILED) {\n      s2 = peg$parsenumber();\n      if (s2 !== peg$FAILED) {\n        s3 = peg$parsecommaWsp();\n        if (s3 !== peg$FAILED) {\n          s4 = peg$parsenumber();\n          if (s4 !== peg$FAILED) {\n            peg$savedPos = s0;\n            s0 = peg$f11(s2, s4);\n          } else {\n            peg$currPos = s0;\n            s0 = peg$FAILED;\n          }\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    } else {\n      peg$currPos = s0;\n      s0 = peg$FAILED;\n    }\n\n    return s0;\n  }\n\n  function peg$parsecommaWsp() {\n    var s0, s1, s2, s3, s4;\n\n    var rule$expects = function (expected) {\n      if (peg$silentFails === 0) peg$expect(expected);\n    }\n\n    s0 = peg$currPos;\n    s1 = [];\n    s2 = peg$parsewsp();\n    if (s2 !== peg$FAILED) {\n      while (s2 !== peg$FAILED) {\n        s1.push(s2);\n        s2 = peg$parsewsp();\n      }\n    } else {\n      s1 = peg$FAILED;\n    }\n    if (s1 !== peg$FAILED) {\n      s2 = peg$parsecomma();\n      if (s2 === peg$FAILED) {\n        s2 = null;\n      }\n      s3 = [];\n      s4 = peg$parsewsp();\n      while (s4 !== peg$FAILED) {\n        s3.push(s4);\n        s4 = peg$parsewsp();\n      }\n      s1 = [s1, s2, s3];\n      s0 = s1;\n    } else {\n      peg$currPos = s0;\n      s0 = peg$FAILED;\n    }\n    if (s0 === peg$FAILED) {\n      s0 = peg$currPos;\n      s1 = peg$parsecomma();\n      if (s1 !== peg$FAILED) {\n        s2 = [];\n        s3 = peg$parsewsp();\n        while (s3 !== peg$FAILED) {\n          s2.push(s3);\n          s3 = peg$parsewsp();\n        }\n        s1 = [s1, s2];\n        s0 = s1;\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    }\n\n    return s0;\n  }\n\n  function peg$parsecomma() {\n    var s0;\n\n    var rule$expects = function (expected) {\n      if (peg$silentFails === 0) peg$expect(expected);\n    }\n\n    rule$expects(peg$e8);\n    if (input.charCodeAt(peg$currPos) === 44) {\n      s0 = peg$c8;\n      peg$currPos++;\n    } else {\n      s0 = peg$FAILED;\n    }\n\n    return s0;\n  }\n\n  function peg$parseintegerConstant() {\n    var s0, s1;\n\n    var rule$expects = function (expected) {\n      if (peg$silentFails === 0) peg$expect(expected);\n    }\n\n    s0 = peg$currPos;\n    s1 = peg$parsedigitSequence();\n    if (s1 !== peg$FAILED) {\n      peg$savedPos = s0;\n      s1 = peg$f12(s1);\n    }\n    s0 = s1;\n\n    return s0;\n  }\n\n  function peg$parsefloatingPointConstant() {\n    var s0, s1, s2;\n\n    var rule$expects = function (expected) {\n      if (peg$silentFails === 0) peg$expect(expected);\n    }\n\n    s0 = peg$currPos;\n    s1 = peg$parsefractionalConstant();\n    if (s1 !== peg$FAILED) {\n      s2 = peg$parseexponent();\n      if (s2 === peg$FAILED) {\n        s2 = null;\n      }\n      s1 = [s1, s2];\n      s0 = s1;\n    } else {\n      peg$currPos = s0;\n      s0 = peg$FAILED;\n    }\n    if (s0 === peg$FAILED) {\n      s0 = peg$currPos;\n      s1 = peg$parsedigitSequence();\n      if (s1 !== peg$FAILED) {\n        s2 = peg$parseexponent();\n        if (s2 !== peg$FAILED) {\n          s1 = [s1, s2];\n          s0 = s1;\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    }\n\n    return s0;\n  }\n\n  function peg$parsefractionalConstant() {\n    var s0, s1, s2, s3;\n\n    var rule$expects = function (expected) {\n      if (peg$silentFails === 0) peg$expect(expected);\n    }\n\n    rule$expects(peg$e9);\n    peg$silentFails++;\n    s0 = peg$currPos;\n    s1 = peg$parsedigitSequence();\n    if (s1 === peg$FAILED) {\n      s1 = null;\n    }\n    if (input.charCodeAt(peg$currPos) === 46) {\n      s2 = peg$c9;\n      peg$currPos++;\n    } else {\n      s2 = peg$FAILED;\n    }\n    if (s2 !== peg$FAILED) {\n      s3 = peg$parsedigitSequence();\n      if (s3 !== peg$FAILED) {\n        peg$savedPos = s0;\n        s0 = peg$f13(s1, s3);\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    } else {\n      peg$currPos = s0;\n      s0 = peg$FAILED;\n    }\n    if (s0 === peg$FAILED) {\n      s0 = peg$currPos;\n      s1 = peg$parsedigitSequence();\n      if (s1 !== peg$FAILED) {\n        if (input.charCodeAt(peg$currPos) === 46) {\n          s2 = peg$c9;\n          peg$currPos++;\n        } else {\n          s2 = peg$FAILED;\n        }\n        if (s2 !== peg$FAILED) {\n          peg$savedPos = s0;\n          s0 = peg$f14(s1);\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    }\n    peg$silentFails--;\n\n    return s0;\n  }\n\n  function peg$parseexponent() {\n    var s0, s1, s2, s3;\n\n    var rule$expects = function (expected) {\n      if (peg$silentFails === 0) peg$expect(expected);\n    }\n\n    s0 = peg$currPos;\n    rule$expects(peg$e10);\n    if (peg$r0.test(input.charAt(peg$currPos))) {\n      s1 = input.charAt(peg$currPos);\n      peg$currPos++;\n    } else {\n      s1 = peg$FAILED;\n    }\n    if (s1 !== peg$FAILED) {\n      s2 = peg$parsesign();\n      if (s2 === peg$FAILED) {\n        s2 = null;\n      }\n      s3 = peg$parsedigitSequence();\n      if (s3 !== peg$FAILED) {\n        s1 = [s1, s2, s3];\n        s0 = s1;\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    } else {\n      peg$currPos = s0;\n      s0 = peg$FAILED;\n    }\n\n    return s0;\n  }\n\n  function peg$parsesign() {\n    var s0;\n\n    var rule$expects = function (expected) {\n      if (peg$silentFails === 0) peg$expect(expected);\n    }\n\n    rule$expects(peg$e11);\n    if (peg$r1.test(input.charAt(peg$currPos))) {\n      s0 = input.charAt(peg$currPos);\n      peg$currPos++;\n    } else {\n      s0 = peg$FAILED;\n    }\n\n    return s0;\n  }\n\n  function peg$parsedigitSequence() {\n    var s0, s1;\n\n    var rule$expects = function (expected) {\n      if (peg$silentFails === 0) peg$expect(expected);\n    }\n\n    s0 = [];\n    s1 = peg$parsedigit();\n    if (s1 !== peg$FAILED) {\n      while (s1 !== peg$FAILED) {\n        s0.push(s1);\n        s1 = peg$parsedigit();\n      }\n    } else {\n      s0 = peg$FAILED;\n    }\n\n    return s0;\n  }\n\n  function peg$parsedigit() {\n    var s0;\n\n    var rule$expects = function (expected) {\n      if (peg$silentFails === 0) peg$expect(expected);\n    }\n\n    rule$expects(peg$e12);\n    if (peg$r2.test(input.charAt(peg$currPos))) {\n      s0 = input.charAt(peg$currPos);\n      peg$currPos++;\n    } else {\n      s0 = peg$FAILED;\n    }\n\n    return s0;\n  }\n\n  function peg$parsewsp() {\n    var s0;\n\n    var rule$expects = function (expected) {\n      if (peg$silentFails === 0) peg$expect(expected);\n    }\n\n    rule$expects(peg$e13);\n    if (peg$r3.test(input.charAt(peg$currPos))) {\n      s0 = input.charAt(peg$currPos);\n      peg$currPos++;\n    } else {\n      s0 = peg$FAILED;\n    }\n\n    return s0;\n  }\n\n  peg$begin();\n  peg$result = peg$startRuleFunction();\n\n  if (peg$result !== peg$FAILED && peg$currPos === input.length) {\n    return peg$result;\n  } else {\n    if (peg$result !== peg$FAILED && peg$currPos < input.length) {\n      peg$expect(peg$endExpectation());\n    }\n\n    throw peg$buildError();\n  }\n}\n\nexport {\n  peg$SyntaxError as SyntaxError,\n  peg$parse as parse\n};\n\nexport default {\n  SyntaxError: peg$SyntaxError,\n  parse: peg$parse\n};\n","import { parse } from './fromTransformAttribute.autogenerated'\n\n/**\n * Parser for SVG Trasform Attribute http://www.w3.org/TR/SVG/coords.html#TransformAttribute <br/>\n * Warning: This should be considered BETA until it is released a stable version of pegjs.\n * @param transformString {string} Transform string as defined by w3 Consortium\n * @returns {Matrix[]} Array of MatrixDescriptor\n *\n * @example\n * > fromTransformAttribute('translate(-10,-10) scale(2,2) translate(10,10)')\n * [\n *  { type: 'translate', tx: -10, ty: -10},\n *  { type: 'scale', sx: 2, sy: 2 },\n *  { type: 'translate', tx: 10, ty: 10}\n * ]\n *\n * > compose(fromDefinition(fromTransformAttribute('translate(-10, -10) scale(10, 10)')))\n * { a: 10, c: 0, e: -10, b: 0, d: 10, f: -10 }\n */\nexport function fromTransformAttribute (transformString) {\n  return parse(transformString)\n}\n","export * from './applyToPoint'\nexport * from './fromObject'\nexport * from './fromString'\nexport * from './identity'\nexport * from './inverse'\nexport * from './isAffineMatrix'\nexport * from './rotate'\nexport * from './scale'\nexport * from './shear'\nexport * from './skew'\nexport * from './toString'\nexport * from './transform'\nexport * from './translate'\nexport * from './fromTriangles'\nexport * from './smoothMatrix'\nexport * from './fromDefinition'\nexport * from './fromTransformAttribute'\n"],"sourceRoot":""}