!function(r,n){"object"==typeof exports&&"object"==typeof module?module.exports=n():"function"==typeof define&&define.amd?define([],n):"object"==typeof exports?exports.TransformationMatrix=n():r.TransformationMatrix=n()}(window,function(){return function(r){var n={};function t(e){if(n[e])return n[e].exports;var o=n[e]={i:e,l:!1,exports:{}};return r[e].call(o.exports,o,o.exports,t),o.l=!0,o.exports}return t.m=r,t.c=n,t.d=function(r,n,e){t.o(r,n)||Object.defineProperty(r,n,{enumerable:!0,get:e})},t.r=function(r){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(r,"__esModule",{value:!0})},t.t=function(r,n){if(1&n&&(r=t(r)),8&n)return r;if(4&n&&"object"==typeof r&&r&&r.__esModule)return r;var e=Object.create(null);if(t.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:r}),2&n&&"string"!=typeof r)for(var o in r)t.d(e,o,function(n){return r[n]}.bind(null,o));return e},t.n=function(r){var n=r&&r.__esModule?function(){return r.default}:function(){return r};return t.d(n,"a",n),n},t.o=function(r,n){return Object.prototype.hasOwnProperty.call(r,n)},t.p="",t(t.s=0)}([function(r,n,t){"use strict";function e(r,n){return Array.isArray(n)?[r.a*n[0]+r.c*n[1]+r.e,r.b*n[0]+r.d*n[1]+r.f]:{x:r.a*n.x+r.c*n.y+r.e,y:r.b*n.x+r.d*n.y+r.f}}function o(r,n){return n.map(function(n){return e(r,n)})}function u(r){return{a:parseFloat(r.a),b:parseFloat(r.b),c:parseFloat(r.c),d:parseFloat(r.d),e:parseFloat(r.e),f:parseFloat(r.f)}}t.r(n);var i=/^matrix\(\s*([0-9_+-.e]+)\s*,\s*([0-9_+-.e]+)\s*,\s*([0-9_+-.e]+)\s*,\s*([0-9_+-.e]+)\s*,\s*([0-9_+-.e]+)\s*,\s*([0-9_+-.e]+)\s*\)$/i;function a(r){var n=r.match(i);if(null===n||n.length<7)throw new Error("'".concat(r,"' is not a matrix"));return{a:parseFloat(n[1]),b:parseFloat(n[2]),c:parseFloat(n[3]),d:parseFloat(n[4]),e:parseFloat(n[5]),f:parseFloat(n[6])}}function c(){return{a:1,c:0,e:0,b:0,d:1,f:0}}function f(r){var n=r.a,t=r.b,e=r.c,o=r.d,u=r.e,i=r.f,a=n*o-t*e;return{a:o/a,b:t/-a,c:e/-a,d:n/a,e:(o*u-e*i)/-a,f:(t*u-n*i)/a}}function s(r){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(r){return typeof r}:function(r){return r&&"function"==typeof Symbol&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r})(r)}function l(r){return void 0===r}function p(r){return"number"==typeof r&&!Number.isNaN(r)&&Number.isFinite(r)}function d(r){return"object"===s(n=r)&&null!==n&&!Array.isArray(n)&&r.hasOwnProperty("a")&&p(r.a)&&r.hasOwnProperty("b")&&p(r.b)&&r.hasOwnProperty("c")&&p(r.c)&&r.hasOwnProperty("d")&&p(r.d)&&r.hasOwnProperty("e")&&p(r.e)&&r.hasOwnProperty("f")&&p(r.f);var n}function h(r){return{a:1,c:0,e:r,b:0,d:1,f:arguments.length>1&&void 0!==arguments[1]?arguments[1]:0}}function y(r){return function(r){if(Array.isArray(r)){for(var n=0,t=new Array(r.length);n<r.length;n++)t[n]=r[n];return t}}(r)||A(r)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function v(r){return function(r){if(Array.isArray(r))return r}(r)||A(r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function A(r){if(Symbol.iterator in Object(r)||"[object Arguments]"===Object.prototype.toString.call(r))return Array.from(r)}function b(){for(var r=arguments.length,n=new Array(r),t=0;t<r;t++)n[t]=arguments[t];var e=function(r,n){return{a:r.a*n.a+r.c*n.b,c:r.a*n.c+r.c*n.d,e:r.a*n.e+r.c*n.f+r.e,b:r.b*n.a+r.d*n.b,d:r.b*n.c+r.d*n.d,f:r.b*n.e+r.d*n.f+r.f}};switch((n=Array.isArray(n[0])?n[0]:n).length){case 0:throw new Error("no matrices provided");case 1:return n[0];case 2:return e(n[0],n[1]);default:var o=v(n),u=o[0],i=o[1],a=o.slice(2),c=e(u,i);return b.apply(void 0,[c].concat(y(a)))}}function x(){return b.apply(void 0,arguments)}var g=Math.cos,m=Math.sin,w=Math.PI;function M(r,n,t){var e=g(r),o=m(r),u={a:e,c:-o,e:0,b:o,d:e,f:0};return l(n)||l(t)?u:b([h(n,t),u,h(-n,-t)])}function S(r){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;return M(r*w/180,n,t)}function _(r){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;return l(n)&&(n=r),{a:r,c:0,e:0,b:0,d:n,f:0}}function P(r,n){return{a:1,c:r,e:0,b:n,d:1,f:0}}var O=Math.tan;function C(r,n){return{a:1,c:O(r),e:0,b:O(n),d:1,f:0}}function E(r,n){return C(r*Math.PI/180,n*Math.PI/180)}function j(r){return I(r)}function F(r){return I(r)}function I(r){return"matrix(".concat(r.a,",").concat(r.b,",").concat(r.c,",").concat(r.d,",").concat(r.e,",").concat(r.f,")")}function R(r){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e10;return{a:Math.round(r.a*n)/n,b:Math.round(r.b*n)/n,c:Math.round(r.c*n)/n,d:Math.round(r.d*n)/n,e:Math.round(r.e*n)/n,f:Math.round(r.f*n)/n}}function T(r,n){var t=null!=r[0].x?r[0].x:r[0][0],e=null!=r[0].y?r[0].y:r[0][1],o=null!=n[0].x?n[0].x:n[0][0],u=null!=n[0].y?n[0].y:n[0][1],i=null!=r[1].x?r[1].x:r[1][0],a=null!=r[1].y?r[1].y:r[1][1],c=null!=n[1].x?n[1].x:n[1][0],s=null!=n[1].y?n[1].y:n[1][1],l=null!=r[2].x?r[2].x:r[2][0],p=null!=r[2].y?r[2].y:r[2][1],d=null!=n[2].x?n[2].x:n[2][0],h=null!=n[2].y?n[2].y:n[2][1];return R(b([{a:o-d,b:u-h,c:c-d,d:s-h,e:d,f:h},f({a:t-l,b:e-p,c:i-l,d:a-p,e:l,f:p})]))}function N(r){return Array.isArray(r)?r.map(n):n(r);function n(r){switch(r.type){case"matrix":if("a"in r&&"b"in r&&"c"in r&&"d"in r&&"e"in r&&"f"in r)return u(r);throw new Error("MISSING_MANDATORY_PARAM");case"translate":if(!("tx"in r))throw new Error("MISSING_MANDATORY_PARAM");return"ty"in r?h(r.tx,r.ty):h(r.tx);case"scale":if(!("sx"in r))throw new Error("MISSING_MANDATORY_PARAM");return"sy"in r?_(r.sx,r.sy):_(r.sx);case"rotate":if(!("angle"in r))throw new Error("MISSING_MANDATORY_PARAM");return"cx"in r&&"cy"in r?S(r.angle,r.cx,r.cy):S(r.angle);case"skewX":if(!("angle"in r))throw new Error("MISSING_MANDATORY_PARAM");return E(r.angle,0);case"skewY":if(!("angle"in r))throw new Error("MISSING_MANDATORY_PARAM");return E(0,r.angle);case"shear":if(!("shx"in r&&"shy"in r))throw new Error("MISSING_MANDATORY_PARAM");return P(r.shx,r.shy);default:throw new Error("UNSUPPORTED_DESCRIPTOR")}}}function k(r,n,t,e){this.message=r,this.expected=n,this.found=t,this.location=e,this.name="SyntaxError","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,k)}function D(r,n){n=void 0!==n?n:{};var t,e={},o={transformList:cr},u=cr,i="matrix",a="(",c=")",f="translate",s="scale",l="rotate",p="skewX",d="skewY",h=",",y=".",v=/^[eE]/,A=/^[+\-]/,b=/^[0-9]/,x=/^[ \t\r\n]/,g=rr("matrix",!1),m=rr("(",!1),w=rr(")",!1),M=rr("translate",!1),S=rr("scale",!1),_=rr("rotate",!1),P=rr("skewX",!1),O=rr("skewY",!1),C=rr(",",!1),E=tr("fractionalConstant"),j=nr(["e","E"],!1,!1),F=nr(["+","-"],!1,!1),I=nr([["0","9"]],!1,!1),R=nr([" ","\t","\r","\n"],!1,!1),T=function(r){return r},N=function(r,n){return r.concat(n)},D=function(r,n,t,e,o,u){return[{type:"matrix",a:r,b:n,c:t,d:e,e:o,f:u}]},Y=function(r,n){var t={type:"translate",tx:r};return n&&(t.ty=n),[t]},G=function(r,n){var t={type:"scale",sx:r};return n&&(t.sy=n),[t]},X=function(r,n){var t={type:"rotate",angle:r};return n&&(t.cx=n[0],t.cy=n[1]),[t]},U=function(r){return[{type:"skewX",angle:r}]},L=function(r){return[{type:"skewY",angle:r}]},V=function(r){return parseFloat(r.join(""))},$=function(r){return parseInt(r.join(""))},q=function(r){return r},z=function(r,n){return[r,n]},B=function(r){return r.join("")},H=function(r,n){return[r?r.join(""):null,".",n.join("")].join("")},J=function(r){return r.join("")},K=0,Q=[{line:1,column:1}],W=[],Z=0;if("startRule"in n){if(!(n.startRule in o))throw new Error("Can't start parsing from rule \""+n.startRule+'".');u=o[n.startRule]}function rr(r,n){return{type:"literal",text:r,ignoreCase:n}}function nr(r,n,t){return{type:"class",parts:r,inverted:n,ignoreCase:t}}function tr(r){return{type:"other",description:r}}function er(n){var t,e=Q[n];if(e)return e;for(t=n-1;!Q[t];)t--;for(e={line:(e=Q[t]).line,column:e.column};t<n;)10===r.charCodeAt(t)?(e.line++,e.column=1):e.column++,t++;return Q[n]=e,e}var or="string"==typeof n.filename&&n.filename.length>0;function ur(r,t){var e={};or&&(e.filename=n.filename);var o=er(r);e.start={offset:r,line:o.line,column:o.column};var u=er(t);return e.end={offset:t,line:u.line,column:u.column},e}function ir(r){var n=W[W.length-1];K<n.pos||(K>n.pos&&(n.pos=K,n.variants=[]),n.variants.push(r))}function ar(r,n,t){return new k(k.buildMessage(r,n),r,n,t)}function cr(){var r,n,t,o,u;for(r=K,n=[],t=br();t!==e;)n.push(t),t=br();for((t=function r(){var n,t,o,u;n=K;t=fr();if(t!==e){if(o=[],(u=pr())!==e)for(;u!==e;)o.push(u),u=pr();else o=e;o!==e&&(u=r())!==e?(n,n=N(t,u)):(K=n,n=e)}else K=n,n=e;n===e&&(n=fr());return n}())===e&&(t=null),o=[],u=br();u!==e;)o.push(u),u=br();return r,r=T(t)}function fr(){var n;return(n=function(){var n,t,o,u,f,s,l,p,d,h,y,v,A,b=function(r){0===Z&&ir(r)};n=K,b(g),r.substr(K,6)===i?(t=i,K+=6):t=e;if(t!==e){for(o=[],u=br();u!==e;)o.push(u),u=br();if(b(m),40===r.charCodeAt(K)?(u=a,K++):u=e,u!==e){for(f=[],s=br();s!==e;)f.push(s),s=br();if((s=sr())!==e)if(pr()!==e)if((l=sr())!==e)if(pr()!==e)if((p=sr())!==e)if(pr()!==e)if((d=sr())!==e)if(pr()!==e)if((h=sr())!==e)if(pr()!==e)if((y=sr())!==e){for(v=[],A=br();A!==e;)v.push(A),A=br();b(w),41===r.charCodeAt(K)?(A=c,K++):A=e,A!==e?(n,n=D(s,l,p,d,h,y)):(K=n,n=e)}else K=n,n=e;else K=n,n=e;else K=n,n=e;else K=n,n=e;else K=n,n=e;else K=n,n=e;else K=n,n=e;else K=n,n=e;else K=n,n=e;else K=n,n=e;else K=n,n=e}else K=n,n=e}else K=n,n=e;return n}())===e&&(n=function(){var n,t,o,u,i,s,l,p,d,h=function(r){0===Z&&ir(r)};n=K,h(M),r.substr(K,9)===f?(t=f,K+=9):t=e;if(t!==e){for(o=[],u=br();u!==e;)o.push(u),u=br();if(h(m),40===r.charCodeAt(K)?(u=a,K++):u=e,u!==e){for(i=[],s=br();s!==e;)i.push(s),s=br();if((s=sr())!==e){for((l=lr())===e&&(l=null),p=[],d=br();d!==e;)p.push(d),d=br();h(w),41===r.charCodeAt(K)?(d=c,K++):d=e,d!==e?(n,n=Y(s,l)):(K=n,n=e)}else K=n,n=e}else K=n,n=e}else K=n,n=e;return n}())===e&&(n=function(){var n,t,o,u,i,f,l,p,d,h=function(r){0===Z&&ir(r)};n=K,h(S),r.substr(K,5)===s?(t=s,K+=5):t=e;if(t!==e){for(o=[],u=br();u!==e;)o.push(u),u=br();if(h(m),40===r.charCodeAt(K)?(u=a,K++):u=e,u!==e){for(i=[],f=br();f!==e;)i.push(f),f=br();if((f=sr())!==e){for((l=lr())===e&&(l=null),p=[],d=br();d!==e;)p.push(d),d=br();h(w),41===r.charCodeAt(K)?(d=c,K++):d=e,d!==e?(n,n=G(f,l)):(K=n,n=e)}else K=n,n=e}else K=n,n=e}else K=n,n=e;return n}())===e&&(n=function(){var n,t,o,u,i,f,s,p,d,h=function(r){0===Z&&ir(r)};n=K,h(_),r.substr(K,6)===l?(t=l,K+=6):t=e;if(t!==e){for(o=[],u=br();u!==e;)o.push(u),u=br();if(h(m),40===r.charCodeAt(K)?(u=a,K++):u=e,u!==e){for(i=[],f=br();f!==e;)i.push(f),f=br();if((f=sr())!==e){for((s=function(){var r,n,t;r=K,pr()!==e&&(n=sr())!==e&&pr()!==e&&(t=sr())!==e?(r,r=z(n,t)):(K=r,r=e);return r}())===e&&(s=null),p=[],d=br();d!==e;)p.push(d),d=br();h(w),41===r.charCodeAt(K)?(d=c,K++):d=e,d!==e?(n,n=X(f,s)):(K=n,n=e)}else K=n,n=e}else K=n,n=e}else K=n,n=e;return n}())===e&&(n=function(){var n,t,o,u,i,f,s,l,d=function(r){0===Z&&ir(r)};n=K,d(P),r.substr(K,5)===p?(t=p,K+=5):t=e;if(t!==e){for(o=[],u=br();u!==e;)o.push(u),u=br();if(d(m),40===r.charCodeAt(K)?(u=a,K++):u=e,u!==e){for(i=[],f=br();f!==e;)i.push(f),f=br();if((f=sr())!==e){for(s=[],l=br();l!==e;)s.push(l),l=br();d(w),41===r.charCodeAt(K)?(l=c,K++):l=e,l!==e?(n,n=U(f)):(K=n,n=e)}else K=n,n=e}else K=n,n=e}else K=n,n=e;return n}())===e&&(n=function(){var n,t,o,u,i,f,s,l,p=function(r){0===Z&&ir(r)};n=K,p(O),r.substr(K,5)===d?(t=d,K+=5):t=e;if(t!==e){for(o=[],u=br();u!==e;)o.push(u),u=br();if(p(m),40===r.charCodeAt(K)?(u=a,K++):u=e,u!==e){for(i=[],f=br();f!==e;)i.push(f),f=br();if((f=sr())!==e){for(s=[],l=br();l!==e;)s.push(l),l=br();p(w),41===r.charCodeAt(K)?(l=c,K++):l=e,l!==e?(n,n=L(f)):(K=n,n=e)}else K=n,n=e}else K=n,n=e}else K=n,n=e;return n}()),n}function sr(){var n,t,o,u;return n=K,t=K,(o=yr())===e&&(o=null),(u=function(){var n,t,o;n=K,(t=function(){var n,t,o,u,i;return i=E,0===Z&&ir(i),Z++,n=K,(t=vr())===e&&(t=null),46===r.charCodeAt(K)?(o=y,K++):o=e,o!==e&&(u=vr())!==e?(n,n=H(t,u)):(K=n,n=e),n===e&&(n=K,(t=vr())!==e?(46===r.charCodeAt(K)?(o=y,K++):o=e,o!==e?(n,n=J(t)):(K=n,n=e)):(K=n,n=e)),Z--,n}())!==e?((o=hr())===e&&(o=null),n=t=[t,o]):(K=n,n=e);n===e&&(n=K,(t=vr())!==e&&(o=hr())!==e?n=t=[t,o]:(K=n,n=e));return n}())!==e?t=o=[o,u]:(K=t,t=e),t!==e&&(n,t=V(t)),(n=t)===e&&(n=K,t=K,(o=yr())===e&&(o=null),(u=function(){var r,n;r=K,(n=vr())!==e&&(r,n=B(n));return r=n}())!==e?t=o=[o,u]:(K=t,t=e),t!==e&&(n,t=$(t)),n=t),n}function lr(){var r,n;return r=K,pr()!==e&&(n=sr())!==e?(r,r=q(n)):(K=r,r=e),r}function pr(){var r,n,t,o,u;if(r=K,n=[],(t=br())!==e)for(;t!==e;)n.push(t),t=br();else n=e;if(n!==e){for((t=dr())===e&&(t=null),o=[],u=br();u!==e;)o.push(u),u=br();r=n=[n,t,o]}else K=r,r=e;if(r===e)if(r=K,(n=dr())!==e){for(t=[],o=br();o!==e;)t.push(o),o=br();r=n=[n,t]}else K=r,r=e;return r}function dr(){var n,t;return t=C,0===Z&&ir(t),44===r.charCodeAt(K)?(n=h,K++):n=e,n}function hr(){var n,t,o,u,i;return n=K,i=j,0===Z&&ir(i),v.test(r.charAt(K))?(t=r.charAt(K),K++):t=e,t!==e?((o=yr())===e&&(o=null),(u=vr())!==e?n=t=[t,o,u]:(K=n,n=e)):(K=n,n=e),n}function yr(){var n,t;return t=F,0===Z&&ir(t),A.test(r.charAt(K))?(n=r.charAt(K),K++):n=e,n}function vr(){var r,n;if(r=[],(n=Ar())!==e)for(;n!==e;)r.push(n),n=Ar();else r=e;return r}function Ar(){var n,t;return t=I,0===Z&&ir(t),b.test(r.charAt(K))?(n=r.charAt(K),K++):n=e,n}function br(){var n,t;return t=R,0===Z&&ir(t),x.test(r.charAt(K))?(n=r.charAt(K),K++):n=e,n}if(W.push({pos:K,variants:[]}),(t=u())!==e&&K===r.length)return t;throw t!==e&&K<r.length&&ir({type:"end"}),function(){var n=W[0],t=n.pos;return ar(n.variants,t<r.length?r.charAt(t):null,t<r.length?ur(t,t+1):ur(t,t))}()}!function(r,n){function t(){this.constructor=r}t.prototype=n.prototype,r.prototype=new t}(k,Error),k.buildMessage=function(r,n){var t={literal:function(r){return'"'+o(r.text)+'"'},class:function(r){var n=r.parts.map(function(r){return Array.isArray(r)?u(r[0])+"-"+u(r[1]):u(r)});return"["+(r.inverted?"^":"")+n+"]"},any:function(){return"any character"},end:function(){return"end of input"},other:function(r){return r.description},not:function(r){return"not "+i(r.expected)}};function e(r){return r.charCodeAt(0).toString(16).toUpperCase()}function o(r){return r.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(r){return"\\x0"+e(r)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(r){return"\\x"+e(r)})}function u(r){return r.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(r){return"\\x0"+e(r)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(r){return"\\x"+e(r)})}function i(r){return t[r.type](r)}return"Expected "+function(r){var n,t,e=r.map(i);if(e.sort(),e.length>0){for(n=1,t=1;n<e.length;n++)e[n-1]!==e[n]&&(e[t]=e[n],t++);e.length=t}switch(e.length){case 1:return e[0];case 2:return e[0]+" or "+e[1];default:return e.slice(0,-1).join(", ")+", or "+e[e.length-1]}}(r)+" but "+function(r){return r?'"'+o(r)+'"':"end of input"}(n)+" found."};function Y(r){return D(r)}t.d(n,"applyToPoint",function(){return e}),t.d(n,"applyToPoints",function(){return o}),t.d(n,"fromObject",function(){return u}),t.d(n,"fromString",function(){return a}),t.d(n,"identity",function(){return c}),t.d(n,"inverse",function(){return f}),t.d(n,"isAffineMatrix",function(){return d}),t.d(n,"rotate",function(){return M}),t.d(n,"rotateDEG",function(){return S}),t.d(n,"scale",function(){return _}),t.d(n,"shear",function(){return P}),t.d(n,"skew",function(){return C}),t.d(n,"skewDEG",function(){return E}),t.d(n,"toCSS",function(){return j}),t.d(n,"toSVG",function(){return F}),t.d(n,"toString",function(){return I}),t.d(n,"transform",function(){return b}),t.d(n,"compose",function(){return x}),t.d(n,"translate",function(){return h}),t.d(n,"fromTriangles",function(){return T}),t.d(n,"smoothMatrix",function(){return R}),t.d(n,"fromDefinition",function(){return N}),t.d(n,"fromTransformAttribute",function(){return Y})}])});
//# sourceMappingURL=transformation-matrix.min.js.map